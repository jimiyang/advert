(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{RMEK:function(e,t,a){"use strict";a.r(t);a("kAav");var n=a("tOJu"),i=(a("Q1Sh"),a("xSYZ")),s=(a("Es18"),a("cNqv")),r=(a("PrJT"),a("Vhqn")),c=(a("PWbI"),a("EEhf")),o=a("Ico4"),l=a.n(o),m=a("mK77"),h=a.n(m),u=a("UWy3"),p=a.n(u),d=(a("dQQm"),a("2o49")),g=a("2w0b"),v=a.n(g),E=a("Dyj7"),S=a.n(E),w=a("TsPW"),N=a("gLMk"),y=a.n(N),b=d["a"].Search;class P extends g["Component"]{constructor(e){var t;super(e),t=this,this.loadList=p()(l.a.mark(function e(){var a,n,i,s;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,n=a.pagination,i=a.search,s=h()({},i,{currentPage:n.currentPage,pageSize:n.pageSize}),t.setState({loading:!0}),e.next=5,Object(w["c"])(s).then(e=>{if(t.setState({loading:!1}),e.success){var a=e.data,i=Object.assign(n,{total:a.pageData.totalNum});t.setState({monitorFinish:a.monitorFinish,monitorWait:a.monitorWait,monitoring:a.monitoring,activityMonitorData:a.pageData.items,pagination:i,loading:!1})}});case 5:case"end":return e.stop()}},e)})),this.changePage=(e=>{e=0===e?1:e;var t=Object.assign(this.state.pagination,{currentPage:e,current:e});this.setState({pagination:t},()=>{this.loadList()})}),this.onShowSizeChange=((e,t)=>{var a=this.state.pagination;a=Object.assign(a,{currentPage:e,current:e,pageSize:t}),this.setState({pagination:a},()=>{this.loadList()})}),this.changeFormEvent=((e,t)=>{var a=this.state.search;a=Object.assign(a,{[t]:e.target.value}),"monitorStatus"===t&&this.setState({search:a},()=>{this.loadList()})}),this.searchEvent=(e=>{var t=Object.assign(this.state.search,{name:e});this.setState({search:t},()=>{this.loadList()})}),this.mouseEnterEvent=(e=>{this.setState({id:e})}),this.mouseLeaveEvent=(()=>{this.setState({id:null})}),this.viewMonitorEvent=(e=>{S.a.push({pathname:"/missionmonitor",state:{campaignId:e.campaignId,appArticlePosition:e.appArticlePosition}})}),this.state={activityMonitorData:[],loading:!1,search:{monitorStatus:"",name:null},pagination:{size:"small",showQuickJumper:!0,showSizeChanger:!0,total:0,currentPage:1,current:1,pageSize:10,pageSize:10,onChange:this.changePage,onShowSizeChange:this.onShowSizeChange}}}componentDidMount(){var e=this;return p()(l.a.mark(function t(){return l.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadList();case 2:case"end":return t.stop()}},t)}))()}componentWillUnmount(){this.setState=((e,t)=>{})}render(){var e=this.state,t=e.id,o=e.search,l=e.pagination,m=e.monitorFinish,h=e.monitorWait,u=e.monitoring,p=e.activityMonitorData,d=e.loading,g={gutter:16,xs:1,sm:2,md:3,lg:4,xl:4,xxl:5};return v.a.createElement("div",{className:y.a["monitor"]},v.a.createElement("div",null,v.a.createElement("header",{className:"header-style"},"\u9605\u8bfb\u6570\u76d1\u63a7",v.a.createElement(r["a"],{placement:"rightTop",title:"\u5b9e\u65f6\u76d1\u63a7\u6587\u6848\u8ba2\u5355\u751f\u6210\u540e\u7684\u5b9e\u9645\u9605\u8bfb\u6570\u636e\uff0c\u76d1\u63a7\u65f6\u957f\u4e3a\u53d1\u6587\u540e24\u5c0f\u65f6"},v.a.createElement(c["a"],{type:"question-circle",className:y.a["notice"]})),v.a.createElement("span",{className:y.a["header-title"]},"\u5f53\u524d\u5171\u6709",v.a.createElement("i",null,l.total),"\u4e2a\u6d3b\u52a8\u5df2\u5f00\u542f\u76d1\u63a7\uff0c \u5305\u62ec",v.a.createElement("i",null,h),"\u4e2a\u5f85\u76d1\u63a7\uff0c",v.a.createElement("i",null,u),"\u4e2a\u76d1\u63a7\u4e2d\uff0c",v.a.createElement("i",null,m),"\u4e2a\u76d1\u63a7\u5b8c\u6210\u3002"))),v.a.createElement("div",{className:y.a["search"]},v.a.createElement(s["a"].Group,{value:o.monitorStatus,onChange:e=>this.changeFormEvent(e,"monitorStatus")},v.a.createElement(s["a"],{value:""},"\u5168\u90e8"),v.a.createElement(s["a"],{value:2},"\u5f85\u76d1\u63a7"),v.a.createElement(s["a"],{value:3},"\u76d1\u63a7\u4e2d"),v.a.createElement(s["a"],{value:4},"\u76d1\u63a7\u5b8c\u6210")),v.a.createElement("div",{className:"inlineb w260"},v.a.createElement(b,{placeholder:"\u641c\u7d22\u6d3b\u52a8\u540d\u79f0/\u6587\u7ae0\u6807\u9898",onSearch:e=>this.searchEvent(e)}))),v.a.createElement(n["a"],{grid:g,dataSource:p,className:"list-tab",loading:d,pagination:l,renderItem:(e,s)=>v.a.createElement(n["a"].Item,null,v.a.createElement("div",{key:s,className:y.a["activity"]},v.a.createElement("div",{className:y.a["activity-name"]},v.a.createElement("b",null,9===e.appArticlePosition?"\u4e0d\u9650":window.common.advertLocal[Number(e.appArticlePosition)-1]),v.a.createElement("img",{src:e.impImage,style:{width:"66px",height:"66px",borderRadius:"2px"}}),v.a.createElement("div",{className:"".concat(y.a["title"]," ml10")},v.a.createElement(r["a"],{placement:"topLeft",title:e.campaignName},v.a.createElement("h1",null,e.campaignName)),v.a.createElement("div",{className:y.a["mtitle"]},v.a.createElement(r["a"],{placement:"topLeft",title:e.title},v.a.createElement("a",{href:"".concat(window.common.articleUrl,"/fshstatic/view.html?id=").concat(e.postContent),target:"_blank"},e.title))))),v.a.createElement("div",null,v.a.createElement("p",{className:y.a["activity-status"]},"\u9605\u8bfb\u589e\u91cf\u8d8b\u52bf",window.common.monitorReadNum(y.a,e.monitorStatus)),v.a.createElement("div",{className:y.a["activity-pic"],onMouseEnter:()=>this.mouseEnterEvent(e.id),onMouseLeave:()=>this.mouseLeaveEvent()},v.a.createElement("img",{src:a("uicj")}),v.a.createElement("div",{className:t===e.id?null:"hide"},v.a.createElement("div",{className:y.a["layer"]}),v.a.createElement("div",{className:y.a["content"]},3===e.monitorStatus||4===e.monitorStatus?v.a.createElement(i["a"],{type:"primary",onClick:()=>{this.viewMonitorEvent(e)}},"\u67e5\u770b\u76d1\u63a7\u8ba2\u5355"):v.a.createElement(r["a"],{title:"\u76d1\u63a7\u672a\u5f00\u59cb\uff0c\u65e0\u6cd5\u67e5\u770b\u76d1\u63a7\u8d26\u53f7"},v.a.createElement(c["a"],{type:"eye-invisible",className:y.a["ico"],theme:"filled"}))))),v.a.createElement("div",{className:y.a["activity-count"]},e.createDateStr,v.a.createElement("div",null,v.a.createElement(c["a"],{type:"eye",className:y.a["ico"]}),"\u603b\u9605\u8bfb\u6570\uff1a",window.common.reaplceFansNum(String(e.readUserTotal)))))))}))}}t["default"]=P}}]);