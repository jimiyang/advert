(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{x4Lw:function(e,a,t){"use strict";t.r(a);t("Q1Sh");var l=t("xSYZ"),n=(t("8NX6"),t("SYRA")),i=(t("K9jA"),t("ekpG")),c=(t("0dlH"),t("MfyD")),s=(t("PrJT"),t("Vhqn")),m=(t("mRFZ"),t("JXgG")),r=t("Ico4"),o=t.n(r),d=t("UWy3"),u=t.n(d),p=t("mK77"),E=t.n(p),v=(t("dQQm"),t("2o49")),g=t("2w0b"),h=t.n(g),N=t("2Qu+"),b=t.n(N),y=t("TsPW"),w=v["a"].TextArea;class S extends g["Component"]{constructor(e){var a;super(e),a=this,this.initDictionary=(e=>{Object(y["H"])({type:e}).then(a=>{var t="provinceType"===e?{provinceData:a.data}:{mediaData:a.data};this.setState(E()({},t))})}),this.initForm=function(){var e=u()(o.a.mark(function e(t){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["E"])({id:t}).then(e=>{if(e.success){var t=Object.assign(a.state.form,e.data),l=Object.assign(a.state.params,{auditRemark:t.auditRemark});a.setState({form:t,params:l})}});case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.loadList=(()=>{var e=this.state,a=e.pagination,t=e.campaignId,l={limit:a.limit,currentPage:a.currentPage,campaignId:t};Object(y["V"])(l).then(e=>{if(e.success){var t=Object.assign(a,{total:e.data.totalNum});this.setState({missionData:e.data.items,pagination:t})}})}),this.changePage=(e=>{e=0===e?1:e;var a=Object.assign(this.state.pagination,{currentPage:e});this.setState({pagination:a}),this.loadList()}),this.onShowSizeChange=((e,a)=>{var t=this.state.pagination;t=Object.assign(t,{currentPage:e,limit:a,pageSize:a}),this.setState({pagination:t}),this.loadList()}),this.changeFormEvent=((e,a)=>{var t=Object.assign(this.state.params,{[e]:a.target.value});this.setState({params:t})}),this.changeTypeEvent=(e=>{this.setState({activeIndex:e})}),this.checkEvent=(e=>{var a=this.state.params;if(!a.auditRemark)return m["a"].error("\u8bf7\u586b\u5199\u5ba1\u6838\u610f\u89c1"),!1;var t=Object.assign(a,{auditStatus:e});Object(y["k"])(t).then(e=>{m["a"].success(e.message),window.history.go(-1)})}),this.goBackEvent=(()=>{window.history.go(-1)}),this.viewDataEvent=(e=>{var a={missionId:e.missionId};Object(y["P"])(a).then(e=>{e.success&&this.setState({readData:e.data.items})})}),this.handleHoverChange=((e,a)=>{var t;!0===a&&(this.viewDataEvent(e),t=e.id),this.setState({hovered:t})}),this.state={activeIndex:1,form:{targetMediaCategory:[],targetArea:[]},campaignId:null,params:{auditStatus:null,auditRemark:"",id:""},type:0,missionData:[],pagination:{size:"small",showSizeChanger:!0,total:0,currentPage:1,limit:10,pageSize:10,onChange:this.changePage,onShowSizeChange:this.onShowSizeChange},provinceData:[],mediaData:[],hovered:"",readData:[]}}componentDidMount(){var e=this;return u()(o.a.mark(function a(){var t,l,n;return o.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(t=e.props.location.state,t.id){a.next=3;break}return a.abrupt("return",!1);case 3:return l=JSON.parse(window.localStorage.getItem("login_info")),n=Object.assign(e.state.params,{loginName:l.data.loginName,id:t.id}),a.next=7,e.setState({params:n,type:t.type,campaignId:t.campaignId,activeIndex:t.type});case 7:return a.next=9,e.initDictionary("provinceType");case 9:return a.next=11,e.initDictionary("parent_mediatype");case 11:return a.next=13,e.initForm(t.id);case 13:return a.next=15,e.loadList();case 15:case"end":return a.stop()}},a)}))()}render(){var e=this.state,a=e.form,t=e.missionData,m=e.pagination,r=e.provinceData,o=e.mediaData,d=e.activeIndex,u=e.params,p=e.hovered,E=e.readData,v=this.props.location.state,g=e=>{switch(e){case"provinceType":var t=[];return void 0!==a.targetAreaArray&&void 0!==r&&a.targetAreaArray.map(e=>{r.map(a=>{e===a.value&&t.push(a.label)})}),t;case"parent_mediatype":var l=[];return void 0!==a.targetMediaCategoryArray&&void 0!==o&&a.targetMediaCategoryArray.map(e=>{o.map(a=>{a.dictChildList.map(a=>{e===a.value&&l.push(a.label)})})}),l}},N=h.a.createElement("dl",{className:b.a["drawer"]},h.a.createElement("dt",null,h.a.createElement("span",null,"\u65e5\u671f"),h.a.createElement("span",null,"\u9605\u8bfb\u91cf")),E.map((e,a)=>h.a.createElement("dd",{key:a},h.a.createElement("span",null,e.statDate),h.a.createElement("span",null,e.intPageReadUser)))),y=[{title:h.a.createElement("div",{className:"col-header"},h.a.createElement("span",null,"\u63a5\u5355\u53f7"),h.a.createElement("span",null,"\u5e7f\u544a\u6807\u9898"),h.a.createElement("span",null,"\u7c89\u4e1d\u91cf"),h.a.createElement("span",null,"\u5b9e\u9645\u53d1\u6587\u65f6\u95f4"),h.a.createElement("span",null,"\u9605\u8bfb\u5355\u4ef7(\u5143)"),h.a.createElement("span",null,"\u9884\u4f30\u652f\u51fa(\u5143)"),h.a.createElement("span",null,"\u5b9e\u9645\u9605\u8bfb"),h.a.createElement("span",null,"\u5b9e\u9645\u652f\u51fa"),h.a.createElement("span",null,"\u72b6\u6001")),key:"td",render:e=>h.a.createElement("div",{className:"table-row"},h.a.createElement("ul",null,h.a.createElement("li",null,"\u8ba2\u5355\u53f7: ",e.missionId),h.a.createElement("li",null,"\u63a5\u5355\u65f6\u95f4: ",window.common.getDate(e.createDate,!0)),h.a.createElement("li",null,"\u6d3b\u52a8\u7f16\u53f7: ",e.campaignId)),h.a.createElement("div",{className:"tab-col"},h.a.createElement("div",null,h.a.createElement("img",{src:e.headImg}),h.a.createElement("br",null),e.appNickName),h.a.createElement("div",{className:"txthide"},e.campaignName),h.a.createElement("div",{style:{cursor:"pointer"}},h.a.createElement(s["a"],{placement:"top",title:"\u7531\u4e8e\u5fae\u4fe1\u9650\u5236\uff0c\u672a\u8ba4\u8bc1\u53f7\u8bf7\u5230\u5fae\u4fe1\u540e\u53f0\u67e5\u770b\u7c89\u4e1d\u6570"},e.appTotalUserCnt?e.appTotalUserCnt:"--")),h.a.createElement("div",null,void 0===e.realPostArticleTime?"--":e.realPostArticleTime),h.a.createElement("div",null,void 0===e.adUnitPrice?"--":e.adUnitPrice),h.a.createElement("div",null,void 0===e.estimateMin?"--":e.estimateMin,"~",void 0===e.estimateMax?"--":e.estimateMax),h.a.createElement("div",null,void 0===e.missionRealReadCnt?"--":h.a.createElement(c["a"],{placement:"bottom",title:"\u6bcf\u65e5\u8ba2\u5355\u9605\u8bfb\u91cf",content:N,trigger:"hover",visible:p===e.id,onVisibleChange:this.handleHoverChange.bind(this,e)},h.a.createElement("span",{className:"blue-color cur"},e.missionRealReadCnt))),h.a.createElement("div",null,void 0===e.adRealCost?"--":e.adRealCost),h.a.createElement("div",null,19===Number(e.missionStatus)?"\u53d6\u6d88":null,18===Number(e.missionStatus)?"\u5ba1\u6838\u5931\u8d25":window.common.missionStatus[Number(e.missionStatus)-10])))}];return h.a.createElement("div",{className:b.a.administrator},h.a.createElement("header",{className:"header-style"},"\u6d3b\u52a8\u8be6\u60c5"),h.a.createElement("div",{className:b.a.activityNav},h.a.createElement("a",{className:1===d?"".concat(b.a.active," cur"):"",onClick:this.changeTypeEvent.bind(this,1)},"\u63a5\u5355\u5a92\u4f53"),h.a.createElement("a",{className:0===d?"".concat(b.a.active," cur"):"",onClick:this.changeTypeEvent.bind(this,0)},"\u6d3b\u52a8\u8be6\u60c5")),h.a.createElement("div",{className:1===d?"":"hide"},h.a.createElement(i["a"],{className:"table",size:"middle",rowKey:e=>e.id,columns:y,dataSource:t,pagination:!1}),h.a.createElement("div",{className:"g-tr mt10"},h.a.createElement(n["a"],{showSizeChanger:!0,size:m.size,onChange:this.changePage,onShowSizeChange:this.onShowSizeChange,current:m.currentPage,pageSize:m.pageSize,total:m.total})),h.a.createElement("div",{className:"g-tc"},h.a.createElement(l["a"],{onClick:this.goBackEvent.bind(this),style:{padding:"0 25px"}},"\u8fd4\u56de"))),h.a.createElement("div",{className:"".concat(b.a.createBlocks," ").concat(0===d?"":"hide")},h.a.createElement("div",{className:b.a.form,style:{borderTop:"none",paddingTop:0}},h.a.createElement("div",null,h.a.createElement("div",{className:"".concat(b.a.items," mb24")},h.a.createElement("label",{className:b.a.labName},"\u6d3b\u52a8\u72b6\u6001\uff1a"),h.a.createElement("div",null,window.common.activityStatus(a.postStatus))),h.a.createElement("div",{className:"".concat(b.a.items," mb24")},h.a.createElement("label",{className:b.a.labName},"\u5ba1\u6838\u72b6\u6001\uff1a"),h.a.createElement("div",null,void 0===a.auditStatus?"\u5f85\u5ba1\u6838":window.common.activityStatusData[Number(a.auditStatus)-1])),h.a.createElement("div",{className:"".concat(b.a.items," mb24")},h.a.createElement("label",{className:b.a.labName},"\u5ba1\u6838\u5907\u6ce8\uff1a"),h.a.createElement("div",null,1===v.type?a.auditRemark:h.a.createElement(w,{rows:3,className:b.a.txtA,placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f",value:u.auditRemark,style:{width:"300px"},onChange:this.changeFormEvent.bind(this,"auditRemark")}))),h.a.createElement("div",{className:"".concat(b.a.items," mb24")},h.a.createElement("label",{className:b.a.labName},"\u5e7f\u544a\u4e3b\u540d\u79f0\uff1a"),h.a.createElement("div",null,a.advertiserName)),h.a.createElement("div",{className:"".concat(b.a.items," mb24")},h.a.createElement("label",{className:b.a.labName},"\u5546\u6237\u7f16\u53f7\uff1a"),h.a.createElement("div",null,a.merchantCode)),h.a.createElement("div",{className:"".concat(b.a.items," mb24")},h.a.createElement("label",{className:b.a.labName},"\u5269\u4f59\u53ef\u63a5\u5355\u6570\u91cf\uff1a"),h.a.createElement("div",null,a.availableCnt)),1===v.type?null:h.a.createElement("div",{className:"mb24",style:{marginLeft:"125px"}},h.a.createElement("div",null,h.a.createElement(l["a"],{type:"primary",className:"btn-orange",onClick:this.checkEvent.bind(this,1)},"\u5ba1\u6838\u9a73\u56de"),h.a.createElement(l["a"],{type:"primary",className:"ml30",onClick:this.checkEvent.bind(this,2)},"\u5ba1\u6838\u901a\u8fc7"))),h.a.createElement("div",{className:"".concat(b.a.items," mb24")},h.a.createElement("label",{className:b.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u7d20\u6750\uff1a"),h.a.createElement("div",null,h.a.createElement("a",{href:"".concat(window.common.articleUrl,"/fshstatic/view.html?id=").concat(a.postContent),target:"_blank"},h.a.createElement("img",{src:a.impImage})))),h.a.createElement("div",{className:"".concat(b.a.items," mb24")},h.a.createElement("label",{className:b.a.labName},"\u6d3b\u52a8\u540d\u79f0\uff1a"),h.a.createElement("div",null,a.campaignName)),h.a.createElement("div",{className:"mb24 ".concat(b.a.items)},h.a.createElement("label",{className:b.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u5b9a\u5411\u8bbe\u5b9a\uff1a"),h.a.createElement("ul",{className:b.a.target},h.a.createElement("li",null,h.a.createElement("div",{className:b.a.cell},h.a.createElement("em",null,"\u7537\u5973\uff1a"),h.a.createElement("div",{className:b.a.item},0!==Number(a.targetGender)?"\u8bbe\u7f6e\u6bd4\u4f8b":"\u4e0d\u9650\u5236"),0!==Number(a.targetGender)?h.a.createElement("div",{className:"".concat(b.a.col," ")},h.a.createElement("div",null,1===Number(a.targetGender)?"\u7537\u7c89":"\u5973\u7c89"),h.a.createElement("em",null,">"),h.a.createElement("div",{className:"ml10 bold"},void 0===a.targetGenderScale?0:parseInt(100*a.targetGenderScale),"%")):null)),h.a.createElement("li",null,h.a.createElement("div",{className:b.a.cell},h.a.createElement("em",null,"\u5730\u57df\uff1a"),h.a.createElement("div",{className:b.a.item},"[]"!==a.targetArea?"\u5df2\u9009\u63a8\u5e7f\u5730\u57df":"\u4e0d\u9650\u5236"),h.a.createElement("div",{className:"".concat(b.a.selDicTarget," bold")},void 0!==a.targetAreaArray?g("provinceType").join(","):null))),h.a.createElement("li",{className:b.a.last},h.a.createElement("div",{className:b.a.cell},h.a.createElement("em",null,"\u7c7b\u522b\uff1a"),h.a.createElement("div",{className:b.a.item},"[]"!==a.targetMediaCategory?"\u5df2\u9009\u63a8\u5e7f\u7c7b\u522b":"\u4e0d\u9650\u5236"),h.a.createElement("div",{className:"".concat(b.a.selDicTarget," bold")},void 0!==a.targetMediaCategoryArray?g("parent_mediatype").join(","):null))))),h.a.createElement("div",{className:"mb24 ".concat(b.a.items)},h.a.createElement("label",{className:b.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u516c\u4f17\u53f7\u8bbe\u5b9a\uff1a"),h.a.createElement("ul",{className:"".concat(b.a.setWx," clearfix")},1===a.missionLimit?h.a.createElement("li",null,"\u6bcf\u4e2a\u516c\u4f17\u53f7\u63a5\u8fc7\u6211\u7684\u76f8\u4f3c\u6587\u6848\u540e",h.a.createElement("div",{className:b.a.col},h.a.createElement("div",null,h.a.createElement("span",{className:"bold"},a.missionLimitDay),"\u5929\u5185\u4e0d\u80fd\u518d\u63a5\u6211\u7684\u5e7f\u544a"))):h.a.createElement("li",null,"\u6bcf\u4e2a\u516c\u4f17\u53f7\u53ea\u53ef\u63a5\u672c\u6587\u6848\u4e00\u6b21"))),h.a.createElement("div",{className:"mb24 ".concat(b.a.items)},h.a.createElement("label",{className:b.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u6295\u653e\u65f6\u95f4\uff1a"),h.a.createElement("ul",{className:"".concat(b.a.setDate," clearfix")},h.a.createElement("li",null,h.a.createElement("em",null,"\u63a8\u5e7f\u65e5\u671f\uff1a"),h.a.createElement("div",null,window.common.getDate(a.dateStart),"~",window.common.getDate(a.dateEnd))),h.a.createElement("li",{className:b.a.last},h.a.createElement("em",null,"\u53d1\u6587\u65f6\u6bb5\uff1a"),h.a.createElement("div",{className:"inlineb"},void 0===a.hourStart?"\u4e0d\u9650\u5236":"".concat(a.hourStart,"\u70b9~").concat(a.hourEnd,"\u70b9"))))),h.a.createElement("div",{className:"mb24 ".concat(b.a.items)},h.a.createElement("label",{className:b.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u9884\u7b97\uff1a"),h.a.createElement("div",{className:b.a.setPrice},h.a.createElement("ul",{className:"clearfix"},h.a.createElement("li",null,h.a.createElement("em",null,"\u5355\u4ef7\uff1a"),h.a.createElement("div",null,h.a.createElement("span",{className:"bold"},a.unitPrice),"\u5143 / \u9605\u8bfb")),h.a.createElement("li",null,h.a.createElement("em",null,"\u603b\u9884\u7b97\uff1a"),h.a.createElement("div",null,h.a.createElement("span",{className:"bold"},a.postAmtTotal),"\u5143"))),h.a.createElement("div",{className:"mt30"},"\u9884\u7b97\u9605\u8bfb\u91cf\uff1a",h.a.createElement("em",{className:"bold"},a.finalAvailableCnt)))),h.a.createElement("div",{className:"mb24 ".concat(b.a.items)},h.a.createElement("label",{className:b.a.labName},"\u6295\u653e\u4f4d\u7f6e\uff1a"),h.a.createElement("div",{className:b.a.adLocal},h.a.createElement("div",null,9===a.appArticlePosition?"\u4e0d\u9650":window.common.advertLocal[a.appArticlePosition-1]),h.a.createElement("em",null,"\u5e7f\u544a\u6700\u5c11\u4fdd\u7559\u65f6\u95f4\uff1a"),h.a.createElement("div",null,a.retentionTime))),a.postAmtTotal<5e3?null:h.a.createElement("div",null,h.a.createElement("div",{className:"mb24 ".concat(b.a.items)},h.a.createElement("label",{className:b.a.labName},"\u516c\u4f17\u53f7\u7c7b\u578b\uff1a"),h.a.createElement("ul",{className:b.a.pubType},h.a.createElement("li",null,window.common.wxAccountType(a.appType)))),h.a.createElement("div",{className:"mb24 ".concat(b.a.items)},h.a.createElement("label",{className:b.a.labName,style:{verticalAlign:"top"}},"\u7c89\u4e1d\u6570\uff1a"),h.a.createElement("div",{className:b.a.fansNum},h.a.createElement("div",null,"\u5927\u4e8e",a.fansNumLimit),0===a.userAppNumLimit?null:h.a.createElement("p",null,"\u53ea\u5141\u8bb8\u540c\u4e00\u7528\u6237\u4e0b",a.userAppNumLimit,"\u4e2a\u516c\u4f17\u53f7\u63a5\u5355"),0===a.appMissionNumLimit?null:h.a.createElement("p",null,"\u53ea\u5141\u8bb8\u63a5\u8fc7",a.appMissionNumLimit,"\u5355\u4ee5\u5185\u7684\u516c\u4f17\u53f7\u63a5\u5355")))),h.a.createElement("div",{className:"mb24 ".concat(b.a.items)},h.a.createElement("label",{className:b.a.labName},"\u5907\u6ce8\u8981\u6c42\uff1a"),h.a.createElement("div",{className:b.a.describe},a.remarks)))),1===v.type?h.a.createElement("div",{className:"g-tc"},h.a.createElement(l["a"],{onClick:this.goBackEvent.bind(this),style:{padding:"0 25px"}},"\u8fd4\u56de")):null))}}a["default"]=S}}]);