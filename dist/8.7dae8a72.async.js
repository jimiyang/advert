(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"44VK":function(e,t,a){e.exports={pubAccount:"pubAccount___1CrH7",contentItems:"contentItems___2dQGi",editItems:"editItems___3MmKm",pb20:"pb20___31tNz",name:"name___1cLay",ipttxt:"ipttxt___y_8UR",coverimg:"coverimg___2D-ry",search:"search___2GxB6",noData:"noData___3wnAY",list:"list___2cKM6",title:"title___3G8ve",btn:"btn___2Ybhg",receiveAd:"receiveAd___29QWE",abc:"abc___2AUCz","table-text":"table-text___3HCZW","d-select":"d-select___3f13w","d-avatar":"d-avatar___2BciZ"}},J5Au:function(e,t,a){"use strict";a.r(t);a("K9jA");var n=a("ekpG"),s=(a("Q1Sh"),a("xSYZ")),i=(a("j8I8"),a("rgFD")),l=(a("H2sK"),a("ydYK")),c=a("Ico4"),r=a.n(c),o=a("UWy3"),m=a.n(o),u=(a("mRFZ"),a("JXgG")),d=a("mK77"),p=a.n(d),h=(a("pDDZ"),a("83a4")),E=a("2w0b"),_=a.n(E),k=a("44VK"),g=a.n(k),v=a("a/LZ"),b=a.n(v),I=a("uLP2"),S=a("RIvz"),w=a("TsPW"),y=a("uYUQ"),N=h["a"].Option;class f extends E["Component"]{constructor(e){super(e),this.loadList=(e=>{var t=this.state,a=t.appId,n=t.missionStatus,s=t.token,i={};i.appId=a,i.missionStatus=n,i.currentPage=e||this.state.current,i.token=s,Object(w["V"])(p()({},i)).then(e=>{0===e.code&&(e.data.items.forEach((e,t)=>{e.key=t}),this.setState({pubAccountData:e.data.items,total:e.data.totalNum,loading:!1}))})}),this.changePage=(e=>{this.setState({current:e,loading:!0}),this.loadList(e)}),this.getListApps=(()=>{Object(w["h"])({token:this.state.token}).then(e=>{0===e.code&&(void 0!==e.data||e.data.length)&&this.setState({appsData:e.data},()=>{this.loadList()})})}),this.changeFormEvent=((e,t)=>{this.state.search;this.setState({[t]:e,loading:!0,current:1},()=>{this.loadList()})}),this.cancelMission=(e=>{Object(w["xb"])({id:e.id,missionStatus:19,token:this.state.token}).then(e=>{e.success&&(u["a"].success(e.message),this.loadList())})}),this.submitUrl=(e=>{this.setState({isVisible:!0,missionId:e.missionId})}),this.state={pubAccountData:[],appsData:[],status:null,total:0,appId:null,missionStatus:null,appId:null,missionStatus:null,current:1,defaultApp:"",loading:!0,missionId:null,nickName:null}}componentDidMount(){var e=this,t=Object(S["a"])(),a=t.token?t.token:window.localStorage.getItem("token");this.setState({token:a},m()(r.a.mark(function t(){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getListApps();case 2:case"end":return t.stop()}},t)})))}hide(){this.setState({isVisible:!1})}render(){var e=this.state,t=e.pubAccountData,a=e.appsData,c=(e.appId,e.missionStatus),r=(e.status,e.total),o=e.current,m=e.loading,u=e.isVisible,d=e.missionId,p=e.token,E=e.nickName,k=[{title:"\u8ba2\u5355\u53f7",dataIndex:"missionId",key:"missionId"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createDate",key:"createDate",render:e=>_.a.createElement("span",null,b()(e).format("YYYY-MM-DD hh:mm:ss"))},{title:"\u8ba2\u5355\u5185\u5bb9",key:"missionIdMsg",render:e=>_.a.createElement("div",{className:g.a["table-text"]},_.a.createElement("div",null,_.a.createElement("img",{src:e.impImage,width:"80",height:"55"}),_.a.createElement("p",null,9!=e.appArticlePosition?I["a"].advertLocal[e.appArticlePosition-1]:"\u4e0d\u9650")),_.a.createElement("div",null,_.a.createElement("b",null,e.appNickName),_.a.createElement("p",null,e.title)))},{title:"\u63a8\u6587\u8981\u6c42\u65f6\u95f4",key:"needTime",align:"center",render:e=>_.a.createElement("div",null,_.a.createElement("span",null,b()(e.dateStart).format("YYYY-MM-DD"),"~",b()(e.dateEnd).format("YYYY-MM-DD")),_.a.createElement("p",null,e.hourStartStr?"(".concat(e.hourStartStr,"~").concat(e.hourEndStr,")"):"\u4e0d\u9650"))},{title:"\u8ba1\u5212\u6295\u653e\u65e5\u671f",key:"planPostArticleTime",align:"center",dataIndex:"planPostArticleTime"},{title:"\u5b9e\u9645\u63a8\u6587\u65f6\u95f4",key:"realPostArticleTime",align:"center",render:e=>_.a.createElement("span",null,e.realPostArticleTime?e.realPostArticleTime:"--")},{title:"\u9605\u8bfb\u5355\u4ef7(\u5143/\u9605\u8bfb)",key:"adUnitPrice",dataIndex:"flowUnitPrice",align:"center",render:e=>_.a.createElement("span",null,void 0!==e?e:"--")},{title:_.a.createElement("div",null,_.a.createElement("p",null,"\u9884\u4f30\u6536\u5165\uff08\u5143\uff09"),_.a.createElement("p",null,"\u5b9e\u9645\u6536\u5165\uff08\u5143\uff09")),key:"missionReadCnt",align:"center",render:e=>_.a.createElement("div",null,_.a.createElement("span",null,"".concat(e.estimateMin,"~").concat(e.estimateMax)),_.a.createElement("p",null,e.flowRealIncome?e.flowRealIncome:"--"))},{title:"\u8ba2\u5355\u72b6\u6001",align:"center",render:e=>_.a.createElement("div",null,19===e.missionStatus?"\u53d6\u6d88":null,18===e.missionStatus?"\u7ed3\u7b97\u5931\u8d25":I["a"].missionStatus[e.missionStatus-10])},{title:"\u64cd\u4f5c",render:e=>_.a.createElement("div",null,1*e.verifyTypeInfo==-1&&11==e.missionStatus?_.a.createElement("p",{className:"cur purple-color",onClick:()=>this.submitUrl(e)},"\u63d0\u4ea4\u94fe\u63a5"):"",11===Number(e.missionStatus)?_.a.createElement(l["a"],{title:"\u662f\u5426\u8981\u53d6\u6d88\u8ba2\u5355?",onConfirm:()=>this.cancelMission(e),okText:"\u662f",cancelText:"\u5426",className:"purple-color"},_.a.createElement("span",{className:"blue-color block cur"},"\u53d6\u6d88\u8ba2\u5355")):null)}];return _.a.createElement("div",{className:g.a.pubAccount},_.a.createElement("header",{className:"header-style"},"\u5df2\u63a5\u8ba2\u5355"),_.a.createElement(y["a"],{isVisible:u,key:u+Date.now(),token:p,missionId:d,hide:this.hide.bind(this),loadList:()=>{this.loadList()}}),_.a.createElement("ul",{className:g.a.search},_.a.createElement("li",null,_.a.createElement("span",{className:"mr10"},"\u516c\u4f17\u53f7"),_.a.createElement(h["a"],{showSearch:!0,value:E,className:"w180"},_.a.createElement(N,{value:null,onClick:()=>{this.setState({appId:null,nickName:null},()=>{this.changeFormEvent("appId")})}},"\u5168\u90e8\u516c\u4f17\u53f7"),a.map((e,t)=>{return _.a.createElement(N,{key:t,value:e.nickName,onClick:()=>{this.setState({appId:e.appId,nickName:e.nickName},()=>{this.changeFormEvent("appId")})}},_.a.createElement("div",{className:g.a["d-select"]},_.a.createElement(i["a"],{className:g.a["d-avatar"],size:"small",src:e.headImg}),_.a.createElement("span",null,e.nickName)))}))),_.a.createElement("li",null,_.a.createElement("span",{className:"mr10"},"\u63a5\u5355\u72b6\u6001"),_.a.createElement(h["a"],{value:c,className:"w180",onChange:e=>this.changeFormEvent(e,"missionStatus")},_.a.createElement(N,{value:null},"\u5168\u90e8\u8ba2\u5355"),I["a"].missionStatus.map((e,t)=>{return t?_.a.createElement(N,{key:t,value:1*t+10},e):""}),_.a.createElement(N,{value:19},"\u53d6\u6d88"))),_.a.createElement(s["a"],{type:"primary",style:{position:"absolute",right:20},onClick:()=>{window.location.href.includes("test")?window.top.location.href="http://test.fensihui.com/fshstatic/localArticleList":window.top.location.href="http://houtai.fensihui.com/fshstatic/localArticleList"}},"\u67e5\u770b\u6587\u6848")),_.a.createElement(n["a"],{dataSource:t,columns:k,loading:m,pagination:{showQuickJumper:!0,size:"small",showTotal:e=>"\u5171 ".concat(e," \u6761"),total:r,current:o,limit:10,onChange:this.changePage},rowKey:e=>e.id,style:{marginTop:20}}))}}t["default"]=f}}]);