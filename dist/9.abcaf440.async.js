(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{HPPZ:function(e,a,t){"use strict";t.r(a);t("Q1Sh");var n=t("xSYZ"),l=(t("PWbI"),t("EEhf")),r=(t("vm15"),t("khzz")),c=(t("dQQm"),t("2o49")),s=(t("mRFZ"),t("JXgG")),m=t("mK77"),i=t.n(m),o=t("Ico4"),h=t.n(o),u=t("UWy3"),d=t.n(u),E=t("2w0b"),b=t.n(E),w=t("I9qt"),p=t.n(w),N=t("TsPW"),v=t("+JnQ"),f=t.n(v),k=(t("f9jU"),t("ZZoX")),y=t("Xl7E"),g=t.n(y);class x extends E["Component"]{constructor(e){super(e),this.closeEvent=(()=>{this.setState({isVisible:!1})}),this.state={isVisible:!0}}render(){return b.a.createElement("div",null,b.a.createElement(k["a"],{visible:this.state.isVisible,footer:null,closable:!1,width:650},b.a.createElement("div",{className:g.a["withdraw"]},b.a.createElement("h1",null,"\u63d0\u73b0\u901a\u77e5"),b.a.createElement("h2",null,"\u4eb2\u7231\u7684\u7528\u6237\uff0c\u4e3a\u54cd\u5e94\u94f6\u884c\u8981\u6c42\uff0c\u5e73\u53f0\u5bf9\u63d0\u73b0\u89c4\u5219\u8fdb\u884c\u66f4\u65b0\uff0c\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a"),b.a.createElement("div",{className:g.a["withdraw-content"]},b.a.createElement("p",null,"1.  \u5e73\u53f0\u8d26\u6237\u4f59\u989d\u5927\u4e8e100\u5143\u53ef\u7533\u8bf7\u63d0\u73b0\u3002"),b.a.createElement("p",null,"2.  \u5f53\u65e517\u70b9\u524d\u7533\u8bf7\u63d0\u73b0\uff0c\u5e73\u53f0\u5c06\u4e8e\u5f53\u65e5\u63d0\u4ea4\u81f3\u94f6\u884c\uff1b\u5f53\u65e517\u70b9\u540e\u7533\u8bf7\uff0c\u5e73\u53f0\u4e8e\u6b21\u65e517\u70b9\u524d\u63d0\u4ea4\u81f3\u94f6\u884c\u3002"),b.a.createElement("p",null,"3.  \u5177\u4f53\u5230\u8d26\u65f6\u95f4\u4e3a1\uff5e3\u4e2a\u5de5\u4f5c\u65e5\uff08\u4e00\u822c\u56db\u5927\u884c\u662f\u53ca\u65f6\u5904\u7406\uff0c\u5176\u4ed6\u94f6\u884c\u6839\u636e\u81ea\u8eab\u89c4\u5219\u53ef\u80fd\u5ef6\u540e\uff09\u3002")),b.a.createElement("div",{className:g.a["withdraw-col"]},"\u7279\u6b64\u8fdb\u884c\u516c\u793a\u901a\u77e5\uff0c\u611f\u8c22\u5bf9\u672c\u5e73\u53f0\u7684\u652f\u6301\uff01"),b.a.createElement("div",{className:g.a["withdraw-btn"]},b.a.createElement(n["a"],{type:"primary",onClick:()=>{this.closeEvent()}},"\u6211\u5df2\u9605\u8bfb")))))}}var _=x;class S extends E["Component"]{constructor(e){var a;super(e),a=this,this.initForm=d()(h.a.mark(function e(){var t,n,l,r;return h.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.state,n=t.merchantType,l=t.token,r=1===Number(n)?Object(N["A"])():Object(N["z"])({token:l}),e.next=4,r.then(e=>{if(e.success){var t=Object.assign(a.state.form,e.data);a.setState({form:t})}});case 4:case"end":return e.stop()}},e)})),this.changeFormEvent=((e,a)=>{var t=this.state,n=(t.form,t.merchantType),l=e.target.value,r=/^[0-9]+([.]{1}[0-9]{1,2})?$/;if(r.test(l)){var c=(.03*l).toFixed(2),s=1===Number(n)?l:(l-c).toFixed(2);this.setState({[a]:e.target.value,withDrawAmt:s,amt:c})}}),this.handleSubmit=(e=>{e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){this.setState({isdisabled:!0});var t=this.state,n=t.token,l=t.merchantType,r=i()({},a,{token:n}),c=1===Number(l)?N["a"]:N["i"];c(r).then(e=>{e.success&&(s["a"].success(e.message),window.history.go(-1)),this.setState({isdisabled:!1})})}})}),this.state={isdisabled:!1,form:{availableBalance:0,bankName:null,bankCardNumber:null,subbranchCityName:null,subbranchName:null},amt:0,withDrawAmt:0}}componentDidMount(){var e=this,a=this.props.location.state.token,t=this.props.location.state.merchantType;this.setState({token:a,merchantType:t},d()(h.a.mark(function a(){return h.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.initForm();case 2:case"end":return a.stop()}},a)})))}render(){var e=this.state,a=e.isdisabled,t=e.form,s=e.amt,m=e.withDrawAmt,i=e.merchantType,o=this.props.form.getFieldDecorator,h=(e,a,n)=>{var l=/^([1-9][0-9]*){1,3}|(^[0-9][.][0-9]{1}$)|(^[0-9][.][0-9]{2}$)$/;Number(a)>Number(t.availableBalance)&&n("\u53ef\u63d0\u73b0\u91d1\u989d\u4e0d\u8db3"),l.test(a)||n("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u63d0\u73b0\u91d1\u989d"),Number(a)<100&&n("\u63d0\u73b0\u6700\u4f4e\u989d\u5ea6\u4e3a100\u5143"),n()};return b.a.createElement("div",{className:p.a["authenticationForm"]},b.a.createElement("h1",{className:p.a["title"]},"\u63d0\u73b0\u7533\u8bf7"),b.a.createElement(_,null),b.a.createElement(r["a"],{layout:"inline",onSubmit:this.handleSubmit},b.a.createElement("ul",{className:p.a["form"]},b.a.createElement("li",null,b.a.createElement("label",{className:p.a["name"]},"\u53ef\u63d0\u73b0\u91d1\u989d\uff1a"),b.a.createElement("div",{className:"".concat(p.a["content"])},b.a.createElement("span",{className:p.a["amt"]},t.availableBalance),b.a.createElement("em",{className:"f12 ml10 red-color"},"\u5143"))),b.a.createElement("li",null,b.a.createElement("label",{className:p.a["name"]},b.a.createElement("i",null,"*"),"\u672c\u6b21\u63d0\u73b0\u91d1\u989d\uff1a"),b.a.createElement("div",{className:"".concat(p.a["content"])},b.a.createElement(r["a"].Item,null,o("withDrawAmt",{rules:[{validator:h}]})(b.a.createElement(c["a"],{className:p.a["ipttxt"],placeholder:"\u8bf7\u8f93\u5165\u63d0\u73b0\u91d1\u989d",onChange:e=>this.changeFormEvent(e,"withDrawAmt")}))))),b.a.createElement("li",null,b.a.createElement("label",{className:p.a["name"]},"\u5b9e\u9645\u5230\u8d26\u91d1\u989d\uff1a"),b.a.createElement("div",{className:"".concat(p.a["content"])},b.a.createElement("em",{className:p.a["amt"]},m),b.a.createElement("em",{className:"f12 ml10 mr20 red-color"},"\u5143"),1===Number(i)?null:b.a.createElement("span",null,b.a.createElement(l["a"],{type:"question-circle","data-html":"html","data-tip":"\u9488\u5bf9\u60a8\u7684\u6bcf\u7b14\u63d0\u73b0\uff0c\u5e73\u53f0\u5c06\u6536\u53d63%\u7684\u63d0\u73b0\u670d\u52a1\u8d39"}),"\u624b\u7eed\u8d39\uff1a",b.a.createElement("em",{className:p.a["amt"]},s),b.a.createElement("em",{className:"f12 ml10 red-color"},"\u5143")),b.a.createElement(f.a,null))),b.a.createElement("li",null,b.a.createElement("label",{className:p.a["name"]},"\u63d0\u73b0\u94f6\u884c\uff1a"),b.a.createElement("div",{className:"".concat(p.a["content"]," ").concat(p.a["mt5"])},t.bankName)),b.a.createElement("li",null,b.a.createElement("label",{className:p.a["name"]},"\u94f6\u884c\u5361\u53f7\uff1a"),b.a.createElement("div",{className:"".concat(p.a["content"]," ").concat(p.a["mt5"])},t.bankCardNumber)),b.a.createElement("li",null,b.a.createElement("label",{className:p.a["name"]},"\u5f00\u6237\u7f51\u70b9\uff1a"),b.a.createElement("div",{className:"".concat(p.a["content"]," ").concat(p.a["mt5"])},t.subbranchName))),b.a.createElement("div",{className:p.a["pl150"]},b.a.createElement(r["a"].Item,null,b.a.createElement(n["a"],{type:"primary",htmlType:"submit",disabled:!0===a},"\u7533\u8bf7\u63d0\u73b0"),b.a.createElement(n["a"],{className:"ml30",onClick:()=>{window.history.go(-1)}},"\u8fd4\u56de")))))}}a["default"]=r["a"].create()(S)},Xl7E:function(e,a,t){e.exports={withdraw:"withdraw___1tBNA","withdraw-content":"withdraw-content___3fxEv","withdraw-col":"withdraw-col___2Ygom","withdraw-btn":"withdraw-btn___1eDRd"}}}]);