(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"/zIO":function(e,t,a){"use strict";a.r(t);a("f9jU");var l=a("ZZoX"),n=(a("H2sK"),a("ydYK")),r=(a("T/qz"),a("EIS5")),i=(a("vm15"),a("khzz")),s=(a("Q1Sh"),a("xSYZ")),c=(a("Es18"),a("cNqv")),m=(a("PrJT"),a("Vhqn")),o=(a("PWbI"),a("EEhf")),u=a("Ico4"),d=a.n(u),E=a("UWy3"),h=a.n(E),p=a("mK77"),v=a.n(p),b=(a("mRFZ"),a("JXgG")),N=(a("dQQm"),a("2o49")),y=a("2w0b"),g=a.n(y),w=a("2Qu+"),f=a.n(w),R=a("xw1T"),k=a("TsPW"),S=a("SaUU"),T=N["a"].TextArea;class O extends y["Component"]{constructor(e){super(e),this.initForm=(()=>{var e=this.state,t=e.loginName,a=e.orderNo,l=e.form,n={loginName:t,orderNo:a};Object(k["Eb"])(n).then(e=>{var t=Object.assign(l,e.data,e.account);this.setState({form:t})})}),this.changeEvent=((e,t)=>{var a=/[^\d]/g,l=!1;a.test(e.target.value)&&(l=!0),this.setState({[t]:e.target.value,isHide:l})}),this.auditEvent=(e=>{var t,a=this.state,l=a.form,n=a.loginName,r=a.auditRemark,i=a.thirdOrderNo,s=a.type,c={};if("pay"===s){if(Object(S["isNull"])(i))return b["a"].error("\u8bf7\u8f93\u5165\u6c47\u6b3e\u5355\u53f7"),!1;c={thirdOrderNo:i},t=k["Fb"]}else{if(Object(S["isNull"])(r))return b["a"].error("\u8bf7\u586b\u5199\u5ba1\u6838\u5907\u6ce8\u4fe1\u606f"),!1;c={auditRemark:r},t=k["Db"]}var m=v()({orderNo:l.orderNo,loginName:n,orderStatus:e},c);t(m).then(e=>{e.success?(b["a"].success(e.message),window.history.go(-1)):b["a"].error(e.message)})}),this.beforeUpload=(e=>{var t=new FileReader,a=this.state.payForm;t.readAsDataURL(e);var l=window.common.beforeUpload(e,b["a"],1);l&&(t.onload=(t=>{Object(k["Bb"])({img:e}).then(e=>{e.success&&(a=Object.assign(a,{thirdRemitReceiptUrl:e.data.url}),this.props.form.setFieldsValue({thirdRemitReceiptUrl:e.data.url}),this.setState({payForm:a}))})}))}),this.submitEvent=((e,t)=>{e.preventDefault();var a=this.props.location.state.type;this.props.form.validateFields((e,l)=>{if(!e){this.setState({isDisabled:Number(t)});var n=this.props.location.state.orderNo;if("audit"===a){var r=v()({orderNo:n,orderStatus:t},l);1===this.state.payType&&Object(k["fb"])({orderNo:n}).then(e=>{e.success&&b["a"].success(e.message)}),Object(k["Db"])(r).then(e=>{e.success&&(b["a"].success(e.message),window.history.go(-1),this.setState({isDisabled:!1}))})}else{var i=Object.assign(this.state.payForm,l);this.setState({isVisible:!0,payStatus:t,payForm:i})}}})}),this.payEvent=(()=>{var e=this,t=this.state,a=t.payForm,l=t.form,n=v()({},a,{orderNo:l.orderNo});Object(k["Fb"])(n).then(t=>{if(t.success){this.setState({current:!0});var a=setTimeout(function(){e.setState({isVisible:!1}),window.history.go(-1),clearTimeout(a)},3e3)}})}),this.cancelEvent=(()=>{this.setState({isVisible:!1,isDisabled:!1})}),this.viewPicEvent=(e=>{this.setState({isImgVisible:!0,imgUrl:e})}),this.setPayTypeEvent=(e=>{this.setState({payType:e.target.value})}),this.popoverEvent=(()=>{this.setState({isPopoverVisible:!0})}),this.cancelEvent=(()=>{this.setState({isPopoverVisible:!1})}),this.state={loginName:null,orderNo:null,orderStatus:null,auditRemark:null,thirdOrderNo:null,type:null,isHide:!1,form:{},payForm:{},isVisible:!1,payStatus:null,current:!1,isDisabled:!1,payType:1,isPopoverVisible:!1}}componentDidMount(){var e=this;return h()(d.a.mark(function t(){var a,l;return d.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(window.localStorage.getItem("login_info")),l=e.props.location.state,t.next=4,e.setState({loginName:a.data.loginName,type:l.type,orderNo:l.orderNo});case 4:e.initForm();case 5:case"end":return t.stop()}},t)}))()}render(){var e=this.state,t=e.form,u=e.type,d=e.isVisible,E=e.payForm,h=e.current,p=e.payStatus,v=e.isDisabled,b=e.thirdOrderNo,y=e.isImgVisible,w=e.imgUrl,k=e.payType,S=(e.isPopoverVisible,this.props.form.getFieldDecorator);g.a.createElement("div",{className:f.a["pay-type"]},g.a.createElement("h1",null,"\u8bf7\u9009\u62e9\u4ed8\u6b3e\u65b9\u5f0f\uff1a"),g.a.createElement(c["a"].Group,{onChange:e=>this.setPayTypeEvent(e),value:k},g.a.createElement(c["a"],{value:1},"\u81ea\u52a8\u64cd\u4f5c",g.a.createElement(m["a"],{title:"\u9009\u62e9\u81ea\u52a8\u64cd\u4f5c\u5e76\u901a\u8fc7\u5ba1\u6838\u540e\uff0c\u63d0\u73b0\u7533\u8bf7\u5c06\u81ea\u52a8\u4e0a\u4f20\u81f3\u5ba2\u5546\u5e73\u53f0\uff0c\u81ea\u52a8\u5b8c\u6210\u540e\u7eed\u6253\u6b3e\u6d41\u7a0b\uff0c\u6253\u6b3e\u6210\u529f\u540e\u5c06\u81ea\u52a8\u56de\u4f20\u6253\u6b3e\u4fe1\u606f\u3002"},g.a.createElement(o["a"],{type:"question-circle",className:"m5"}))),g.a.createElement(c["a"],{value:2},"\u624b\u52a8\u64cd\u4f5c",g.a.createElement(m["a"],{title:"\u9009\u62e9\u624b\u52a8\u64cd\u4f5c\u5e76\u901a\u8fc7\u5ba1\u6838\u540e\uff0c\u9700\u524d\u5f80\u5ba2\u5546\u5e73\u53f0\uff0c\u4eba\u5de5\u6dfb\u52a0\u63d0\u73b0\u8d26\u6237\u4fe1\u606f\uff0c\u5e76\u5728\u5ba2\u5546\u5e73\u53f0\u5b8c\u6210\u6253\u6b3e\u540e\uff0c\u5728\u201c\u63d0\u73b0\u7ba1\u7406\u201d\u5217\u8868\u624b\u52a8\u63d0\u4ea4\u6253\u6b3e\u4fe1\u606f\u3002"},g.a.createElement(o["a"],{type:"question-circle",className:"m5"})))),g.a.createElement("div",{className:f.a["btn"]},g.a.createElement(s["a"],{size:"small",onClick:()=>this.cancelEvent()},"\u53d6\u6d88"),g.a.createElement(s["a"],{type:"primary",size:"small",className:"ml10",onClick:e=>this.submitEvent(e,3)},"\u786e\u5b9a")));return g.a.createElement("div",{className:f.a.administrator},g.a.createElement("header",{className:"header-style"},"\u63d0\u73b0\u8be6\u60c5"),g.a.createElement("div",{className:"".concat(f.a.cash," ").concat(f.a["cash-detail"])},g.a.createElement(R["a"],{isImgVisible:y,imgUrl:w,key:Date.now()}),g.a.createElement(i["a"],{onSubmit:this.submitEvent},g.a.createElement("ul",{className:f.a.detail},g.a.createElement("li",null,g.a.createElement("label",null,"\u63d0\u73b0\u72b6\u6001\uff1a"),g.a.createElement("div",null,window.common.cashstatusData[Number(t.orderStatus)-1])),g.a.createElement("li",null,g.a.createElement("label",null,"\u63d0\u73b0\u5355\u53f7\uff1a"),g.a.createElement("div",null,t.orderNo)),g.a.createElement("li",null,g.a.createElement("label",null,"\u5546\u6237\u7f16\u53f7\uff1a"),g.a.createElement("div",null,t.merchantCode)),g.a.createElement("li",null,g.a.createElement("label",null,"\u63d0\u73b0\u6279\u6b21\u53f7\uff1a"),g.a.createElement("div",null,void 0===t.acceptBatchNo?"--":t.acceptBatchNo)),g.a.createElement("li",null,g.a.createElement("label",null,"\u63d0\u73b0\u8ba2\u5355\u53f7\uff1a"),g.a.createElement("div",null,void 0===t.outTradeNo?"--":t.outTradeNo)),g.a.createElement("li",null,g.a.createElement("label",null,"\u6c47\u6b3e\u5355\u53f7\uff1a"),g.a.createElement("div",null,t.thirdOrderNo)),g.a.createElement("li",null,g.a.createElement("label",null,"\u7533\u8bf7\u65f6\u95f4\uff1a"),g.a.createElement("div",null,t.applyTime)),g.a.createElement("li",null,g.a.createElement("label",null,"\u7533\u8bf7\u63d0\u73b0\u91d1\u989d\uff1a"),g.a.createElement("div",null,t.orderAmt,"\u5143")),g.a.createElement("li",null,g.a.createElement("label",null,"\u624b\u7eed\u8d39\uff1a"),g.a.createElement("div",null,t.feeAmt,"\u5143")),g.a.createElement("li",null,g.a.createElement("label",null,"\u5230\u8d26\u91d1\u989d\uff1a"),g.a.createElement("div",null,t.realWithdrawAmt,"\u5143")),g.a.createElement("li",null,g.a.createElement("label",null,"\u5ba1\u6838\u5907\u6ce8\uff1a"),g.a.createElement("div",null,"audit"===u?g.a.createElement(i["a"].Item,null,S("auditRemark",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5ba1\u6838\u5907\u6ce8"}]})(g.a.createElement(T,{rows:4,onChange:e=>this.changeEvent(e,"auditRemark"),style:{width:"300px"}}))):t.auditRemark)),"pay"===u?g.a.createElement("li",{style:{marginBottom:0}},g.a.createElement("label",null,"\u6c47\u6b3e\u5355\u53f7\uff1a"),g.a.createElement("div",null,g.a.createElement(i["a"].Item,null,S("thirdOrderNo",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6c47\u6b3e\u5355\u53f7"}]})(g.a.createElement(N["a"],{className:f.a.ipttxt,onChange:e=>this.changeEvent(e,"thirdOrderNo")}))))):null,g.a.createElement("li",{className:f.a["h150"],style:{marginBottom:0,marginTop:0}},g.a.createElement("label",null,"\u6c47\u6b3e\u51ed\u8bc1\uff1a"),"pay"===u?g.a.createElement("div",{style:{width:"80%"}},g.a.createElement("div",{className:"".concat(f.a["content"]," inlineb")},g.a.createElement(i["a"].Item,null,S("thirdRemitReceiptUrl",{rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u6c47\u6b3e\u51ed\u8bc1"}]})(g.a.createElement("div",{className:"uploader inlineb"},E.thirdRemitReceiptUrl?g.a.createElement("img",{src:E.thirdRemitReceiptUrl,style:{width:"220px",height:"125px"}}):g.a.createElement("div",{className:"default"},g.a.createElement("img",{src:a("ruwy")}),g.a.createElement("div",{className:"ant-upload-text"},"\u5efa\u8bae\u4e0a\u4f20\u6587\u4ef61M\u4ee5\u5185")))))),g.a.createElement("div",{className:f.a["uploadBtn"]},g.a.createElement(r["a"],{name:"file",beforeUpload:e=>this.beforeUpload(e),showUploadList:!1},g.a.createElement(s["a"],null,"\u4e0a\u4f20\u6c47\u6b3e\u51ed\u8bc1")),g.a.createElement("p",{className:"mt15"},"\u4ed8\u6b3e\u51ed\u8bc1\u622a\u56fe&\u7167\u7247"),g.a.createElement("p",null,"\u683c\u5f0f\u8981\u6c42\uff1a\u539f\u4ef6\u7167\u7247"),g.a.createElement("p",null,"\u652f\u6301\uff1ajpg\u3001jpeg\u3001bmp\u3001gif\u3001png\u683c\u5f0f\u7167\u7247\uff0c\u5927\u5c0f\u662f1M\u4ee5\u5185"))):g.a.createElement("div",{className:"cur",onClick:()=>this.viewPicEvent(t.thirdRemitReceiptUrl)},void 0===t.thirdRemitReceiptUrl?"--":g.a.createElement("img",{src:t.thirdRemitReceiptUrl,style:{width:"220px",height:"125px"}}))),g.a.createElement("li",null,g.a.createElement("label",null,"\u6c47\u6b3e\u5907\u6ce8\uff1a"),"pay"===u?g.a.createElement("div",null,g.a.createElement(i["a"].Item,null,S("thirdRemitRemarks",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u6c47\u6b3e\u5907\u6ce8"}]})(g.a.createElement(T,{rows:4,onChange:e=>this.changeEvent(e,"thirdRemitRemarks"),style:{width:"300px"}})))):g.a.createElement("div",null,void 0===t.thirdRemitRemarks?"--":t.thirdRemitRemarks))))),g.a.createElement("div",{className:"".concat(f.a.cash," ").concat(f.a["cash-detail"]),style:{paddingLeft:"10%"}},g.a.createElement("ul",{className:f.a.detail},g.a.createElement("li",null,g.a.createElement("label",null,"\u5f00\u6237\u59d3\u540d\uff1a"),g.a.createElement("div",null,t.bankCardOwnerName)),g.a.createElement("li",null,g.a.createElement("label",null,"\u5f00\u6237\u94f6\u884c\uff1a"),g.a.createElement("div",null,t.bankName)),g.a.createElement("li",null,g.a.createElement("label",null,"\u5f00\u6237\u94f6\u884c\u6240\u5728\u57ce\u5e02\uff1a"),g.a.createElement("div",null,t.subbranchProvinceName,t.subbranchCityName)),g.a.createElement("li",null,g.a.createElement("label",null,"\u5f00\u6237\u94f6\u884c\u540d\u79f0\uff1a"),g.a.createElement("div",null,t.subbranchName)),g.a.createElement("li",null,g.a.createElement("label",null,"\u94f6\u884c\u5361\u53f7\uff1a"),g.a.createElement("div",null,t.bankCardNo)),g.a.createElement("li",null,g.a.createElement("label",null,"\u94f6\u884c\u9884\u7559\u624b\u673a\u53f7\uff1a"),g.a.createElement("div",null,t.bankOwnerPhone)),g.a.createElement("li",null,g.a.createElement("label",null,"\u8d26\u6237\u7c7b\u578b\uff1a"),g.a.createElement("div",null,1===t.accountType?"\u4e2a\u4eba":"\u4f01\u4e1a")))),g.a.createElement("div",{className:"g-tc",style:{paddingBottom:"10px"}},"audit"===u?g.a.createElement("div",{className:"inlineb"},g.a.createElement(n["a"],{title:"\u662f\u5426\u8981\u901a\u8fc7\u5ba1\u6838?",onConfirm:()=>this.auditEvent(3),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},g.a.createElement(s["a"],{type:"primary",htmlType:"submit"},"\u5ba1\u6838\u901a\u8fc7")),g.a.createElement(n["a"],{title:"\u662f\u5426\u8981\u9a73\u56de\u5ba1\u6838?",onConfirm:()=>this.auditEvent(2),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},g.a.createElement(s["a"],{className:"ml10 mr10"},"\u5ba1\u6838\u9a73\u56de"))):null,"pay"===u?g.a.createElement("div",{className:"inlineb"},g.a.createElement(l["a"],{visible:d,width:350,closable:!1,footer:h?null:g.a.createElement("div",null,g.a.createElement(s["a"],{onClick:()=>this.cancelEvent()},"\u53d6\u6d88"),g.a.createElement(s["a"],{type:"primary",className:"ml30",onClick:()=>this.payEvent()},"\u786e\u5b9a"))},h?g.a.createElement("div",{className:f.a["tips"]},g.a.createElement("h1",null,g.a.createElement(o["a"],{type:"check-circle",className:f.a["icon"]}),"\u63d0\u73b0\u72b6\u6001\u4fee\u6539\u5b8c\u6210\u3002"),g.a.createElement("p",null,"\u5f53\u524d\u72b6\u6001:",4===p?"\u4ed8\u6b3e\u6210\u529f":"\u4ed8\u6b3e\u5931\u8d25")):g.a.createElement("div",{className:f.a["tips"]},g.a.createElement("h1",{className:f.a["warn"]},g.a.createElement(o["a"],{type:"exclamation-circle",className:f.a["icon"]}),4===p?"\u786e\u5b9a\u8981\u4fee\u6539\u63d0\u73b0\u4e3a\u3010\u4ed8\u6b3e\u6210\u529f\u3011\u72b6\u6001\u5417\uff1f":"\u786e\u5b9a\u8981\u4fee\u6539\u63d0\u73b0\u4e3a\u3010\u4ed8\u6b3e\u5931\u8d25\u3011\u72b6\u6001\u5417\uff1f"),g.a.createElement("p",null,"\u6c47\u6b3e\u5355\u53f7\uff1a",b),g.a.createElement("p",null,"\u8d44\u91d1\u64cd\u4f5c\u4e0d\u53ef\u9006\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c\uff01"))),g.a.createElement(s["a"],{type:"primary",htmlType:"submit",disabled:4===v,className:"mr10",onClick:e=>this.submitEvent(e,4)},"\u4ed8\u6b3e\u6210\u529f")):null,g.a.createElement("div",{className:"inlineb"},g.a.createElement(s["a"],{onClick:()=>window.history.go(-1)},"\u8fd4\u56de"))))}}t["default"]=i["a"].create()(O)}}]);