(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{qgkI:function(e,t,a){"use strict";a.r(t);a("K9jA");var n=a("ekpG"),i=(a("RjMl"),a("6c4S")),s=(a("Q1Sh"),a("xSYZ")),l=(a("PWbI"),a("EEhf")),d=(a("vQrW"),a("haUo")),r=(a("j8I8"),a("rgFD")),c=(a("mRFZ"),a("JXgG")),o=a("Ico4"),m=a.n(o),h=a("mK77"),u=a.n(h),p=a("UWy3"),g=a.n(p),w=(a("dQQm"),a("2o49")),E=(a("pDDZ"),a("83a4")),v=(a("khvN"),a("iNs4")),S=a("2w0b"),y=a.n(S),C=a("2Qu+"),k=a.n(C),f=a("a/LZ"),b=a.n(f),I=a("TsPW"),R=v["a"].RangePicker,x=E["a"].Option,N=w["a"].Search;class D extends S["Component"]{constructor(e){var t;super(e),t=this,this.loadList=g()(m.a.mark(function e(){var a,n,i,s;return m.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,n=a.pagination,i=a.search,s=u()({currentPage:n.currentPage,limit:n.limit},i),e.next=4,Object(I["qb"])(s).then(e=>{if(t.setState({loading:!1}),e.success){var a=Object.assign(n,{total:e.data.totalNum});t.setState({topupData:e.data.items,pagination:a})}});case 4:case"end":return e.stop()}},e)})),this.changePage=(e=>{var t=this.state.pagination;e=0===e?1:e,t=Object.assign(t,{currentPage:e,current:e}),this.setState({pagination:t},()=>{this.loadList()})}),this.onShowSizeChange=((e,t)=>{var a=this.state.pagination;a=Object.assign(a,{currentPage:e,current:e,limit:t}),this.setState({pagination:a},()=>{this.loadList()})}),this.changeFormEvent=((e,t,a)=>{var n=this.state.search,i={};switch(t){case"date":i={dateStart:a[0],dateEnd:a[1]};break;default:i={[t]:e};break}n=Object.assign(n,i),this.setState({search:n,loading:!0},()=>{this.loadList()})}),this.searchEvent=(e=>{var t=this.state.search;t=Object.assign(t,{missionCampaignApp:e}),this.setState({search:t,loading:!0},()=>{this.loadList()})}),this.diffTimeSearch=(e=>{var t=window.common.getStartAndEndDate(e),a=this.state.search;a=Object.assign(a,{dateStart:t[0],dateEnd:t[1]}),this.setState({search:a},()=>{this.loadList()})}),this.onSelectChange=(e=>{this.setState({selectedRowKeys:e})}),this.downLoadEvent=(e=>{var t="localhost"===window.location.hostname?"/base/":"/",a=window.localStorage.getItem("token"),n=this.state.search;if(1===Number(e.key)&&0===this.state.selectedRowKeys.length)return c["a"].warning("\u8bf7\u9009\u62e9\u8981\u5bfc\u51fa\u7684\u8ba2\u5355"),!1;1===Number(e.key)&&this.state.selectedRowKeys.length>0?this.setState({selectedRowKeys:this.state.selectedRowKeys}):(this.state.selectedRowKeys.length=0,this.setState({selectedRowKeys:[]}));var i="".concat(t,"download/api/admin/settleOrderList"),s=document.createElement("form");s.style.display="display:none;",s.method="post",s.action=i;var l=document.createElement("input"),d=document.createElement("input"),r=document.createElement("input"),o=document.createElement("input"),m=document.createElement("input"),h=document.createElement("input");l.type="hidden",d.type="hidden",r.type="hidden",o.type="hidden",m.type="hidden",l.name="token",l.value=a,d.name="missionCampaignApp",d.value=n.missionCampaignApp,r.name="dateStart",r.value=n.dateStart,o.name="dateEnd",o.value=n.dateEnd,m.name="missionStatus",m.value=n.missionStatus,h.name="missionIdListStr",h.value=this.state.selectedRowKeys,s.appendChild(l),s.appendChild(d),s.appendChild(r),s.appendChild(o),s.appendChild(m),s.appendChild(h),document.body.appendChild(s),s.submit(),document.body.removeChild(s)}),this.state={loginName:null,search:{dateStart:null,dateEnd:null,missionCampaignApp:null,missionStatus:null},pagination:{size:"small",limit:10,currentPage:1,current:1,total:0,showSizeChanger:!0,onChange:this.changePage,onShowSizeChange:this.onShowSizeChange},activityData:[],selectedRowKeys:[],allchk:!1,ischecked:[],isDisabled:!1,isSubmit:!1,placement:"right",isVisible:!1,missionTotal:0,missionNotRelease:0,readData:[],hovered:"",isChartsVisible:!1,loading:!0,selectedRowKeys:[],exportName:null}}componentDidMount(){var e=this;return g()(m.a.mark(function t(){return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.loadList();case 1:case"end":return t.stop()}},t)}))()}render(){var e=this.state,t=e.search,a=e.topupData,c=e.pagination,o=e.loading,m=e.selectedRowKeys,h=[{title:"\u8ba2\u5355\u53f7",key:"missionId",dataIndex:"missionId",fixed:"left",width:150},{title:"\u6d3b\u52a8\u7f16\u53f7",key:"campaignId",dataIndex:"campaignId",width:150,fixed:"left"},{title:"\u8ba2\u5355\u72b6\u6001",width:150,fixed:"left",render:e=>y.a.createElement("div",null,19===Number(e.missionStatus)?"\u53d6\u6d88":null,18===Number(e.missionStatus)?"\u7ed3\u7b97\u5931\u8d25":window.common.missionStatus[Number(e.missionStatus)-10])},{title:"\u63a5\u5355\u516c\u4f17\u53f7",render:e=>y.a.createElement("div",null,y.a.createElement(r["a"],{src:e.headImg,size:"small",icon:"user"}),y.a.createElement("span",{className:"ml10"},e.appNickName))},{title:"\u63a5\u5355\u65f6\u95f4",key:"createDate",dataIndex:"createDate",render:e=>y.a.createElement("div",null,window.common.getDate(e,!0))},{title:"\u5e7f\u544a\u4e3b\u7f16\u53f7",key:"adMerchantCode",dataIndex:"adMerchantCode",render:e=>y.a.createElement("div",null,e)},{title:"\u6d41\u91cf\u4e3b\u7f16\u53f7",key:"flowMerchantCode",dataIndex:"flowMerchantCode",render:e=>y.a.createElement("div",null,e)},{title:"\u8ba1\u5212\u6295\u653e\u65e5\u671f",key:"planPostArticleTime",dataIndex:"planPostArticleTime",render:e=>y.a.createElement("div",null,e)},{title:"\u5b9e\u9645\u53d1\u6587\u65f6\u95f4",key:"realPostArticleTime",dataIndex:"realPostArticleTime",render:e=>y.a.createElement("div",null,void 0===e?"--":e)},{title:"\u6700\u5c0f\u9884\u4f30\u9605\u8bfb",key:"missionReadCntMin",dataIndex:"missionReadCntMin",width:150,render:e=>y.a.createElement("div",null,e)},{title:"\u6700\u5927\u9884\u4f30\u9605\u8bfb",key:"missionReadCnt",dataIndex:"missionReadCnt",width:150,render:e=>y.a.createElement("div",null,e)},{title:"\u5b9e\u9645\u9605\u8bfb",key:"missionRealReadCnt",dataIndex:"missionRealReadCnt",width:150,render:e=>y.a.createElement("div",null,e)},{title:"\u5e7f\u544a\u4e3b\u7ed3\u7b97\u9605\u8bfb",key:"adSettleReadCnt",dataIndex:"adSettleReadCnt",width:150,render:e=>y.a.createElement("div",null,e)},{title:"\u6d41\u91cf\u4e3b\u7ed3\u7b97\u9605\u8bfb",key:"settleReadCnt",dataIndex:"settleReadCnt",width:150,render:e=>y.a.createElement("div",null,e)},{title:"\u9605\u8bfb\u5355\u4ef7(\u5143/\u9605\u8bfb)",key:"adUnitPrice",dataIndex:"adUnitPrice",width:150,align:"right",render:e=>y.a.createElement("div",null,e)},{title:"\u5e7f\u544a\u4e3b\u7ed3\u7b97\u91d1\u989d(\u5143)",key:"adRealCost",dataIndex:"adRealCost",width:150,align:"right",render:e=>y.a.createElement("div",null,e)},{title:"\u6d41\u91cf\u4e3b\u7ed3\u7b97\u91d1\u989d(\u5143)",key:"flowRealIncome",dataIndex:"flowRealIncome",width:150,align:"right",render:e=>y.a.createElement("div",null,e)},{title:"\u5e73\u53f0\u6536\u76ca(\u5143)",key:"benefit",dataIndex:"benefit",width:150,align:"right",render:e=>y.a.createElement("div",null,e)}],u={selectedRowKeys:m,onChange:this.onSelectChange},p=y.a.createElement(d["a"],{onClick:e=>this.downLoadEvent(e)},y.a.createElement(d["a"].Item,{key:0},"\u5bfc\u51fa\u5168\u90e8"),y.a.createElement(d["a"].Item,{key:1},"\u5bfc\u51fa\u9009\u4e2d")),g=document.body.offsetHeight-130-280;return y.a.createElement("div",{className:k.a["administrator"]},y.a.createElement("header",{className:"header-style"},"\u8ba2\u5355\u62a5\u8868"),y.a.createElement("ul",{className:k.a["search2"]},y.a.createElement("li",null,y.a.createElement("label",{className:"mr10"},"\u8ba2\u5355\u72b6\u6001"),y.a.createElement(E["a"],{className:"w180",value:t.missionStatus,placeholder:"\u8bf7\u9009\u62e9\u5145\u503c\u72b6\u6001",onChange:e=>this.changeFormEvent(e,"missionStatus")},y.a.createElement(x,{value:null},"\u5168\u90e8"),window.common.missionStatus.map((e,t)=>y.a.createElement(x,{className:0===t||6===t?"hide":"",key:t,value:t+10},e))),y.a.createElement("label",{className:"ml10 mr10"},"\u63a5\u5355\u65e5\u671f"),y.a.createElement(R,{value:""===t.dateStart||null===t.dateStart?null:[b()(t.dateStart,"YYYY-MM-DD"),b()(t.dateEnd,"YYYY-MM-DD")],className:"w2600 ml10",onChange:(e,t)=>this.changeFormEvent(e,"date",t)}),y.a.createElement("span",{className:"purple-color ml10 f12 cur",onClick:()=>this.diffTimeSearch(6)},"\u6700\u8fd17\u5929"),y.a.createElement("span",{className:"purple-color ml10 f12 cur",onClick:()=>this.diffTimeSearch(29)},"\u6700\u8fd130\u5929"),y.a.createElement("span",{className:"purple-color ml10 f12 cur",onClick:()=>this.diffTimeSearch(59)},"\u6700\u8fd160\u5929")),y.a.createElement("li",null,y.a.createElement(N,{placeholder:"\u641c\u7d22\u8ba2\u5355\u53f7/\u6d3b\u52a8\u7f16\u53f7/\u516c\u4f17\u53f7",style:{width:"260px",verticalAlign:"middle"},onSearch:e=>this.searchEvent(e),enterButton:!0}))),y.a.createElement("div",{className:"mt20 g-tr"},y.a.createElement(i["a"],{overlay:p},y.a.createElement(s["a"],null,"\u5bfc\u51fa\u5217\u8868 ",y.a.createElement(l["a"],{type:"down"})))),y.a.createElement(n["a"],{className:"mt20",loading:o,columns:h,dataSource:a,rowKey:e=>e.missionId,pagination:c,rowSelection:u,scroll:{x:3e3,y:g}}))}}t["default"]=D}}]);