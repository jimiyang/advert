(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{kmLG:function(e,a,t){"use strict";t.r(a);t("JWMw");var i=t("Y6Lv"),n=(t("PWbI"),t("EEhf")),l=(t("Es18"),t("cNqv")),s=(t("vm15"),t("khzz")),r=(t("f9jU"),t("ZZoX")),c=(t("Q1Sh"),t("xSYZ")),m=t("Ico4"),o=t.n(m),h=t("UWy3"),p=t.n(h),d=(t("mRFZ"),t("JXgG")),u=t("mK77"),v=t.n(u),E=(t("khvN"),t("iNs4")),g=(t("dQQm"),t("2o49")),b=(t("pDDZ"),t("83a4")),y=(t("FDyh"),t("+Gaz")),N=t("2w0b"),f=t.n(N),T=t("a/LZ"),S=t.n(T),k=t("VVpn"),C=t.n(k),A=t("Dyj7"),w=t.n(A),M=t("TsPW"),x=t("+JnQ"),I=t.n(x),L=t("cTqT"),D=t("nD7b"),O=t("Rq1I"),j=(t("0dlH"),t("MfyD")),F=(t("PrJT"),t("Vhqn")),V=t("ketZ"),P=t.n(V),U=(t("8NX6"),t("SYRA")),G=(t("kAav"),t("tOJu")),Y=g["a"].Search;class J extends N["Component"]{constructor(e){var a;super(e),a=this,this.loadList=p()(o.a.mark(function e(){var t,i,n,l;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.state.pagination,i={currentPage:t.currentPage,limit:t.limit,title:t.title},e.next=4,Object(M["j"])(i);case 4:n=e.sent,n.success&&n.data&&(l=Object.assign(t,{total:n.data.totalNum}),a.setState({materiaData:n.data.items,pagination:l}));case 6:case"end":return e.stop()}},e)})),this.changePage=(e=>{e=0===e?1:e;var a=Object.assign(this.state.pagination,{currentPage:e});this.setState({pagination:a}),this.loadList()}),this.searchEvent=(e=>{var a=Object.assign(this.state.pagination,{title:e.target.value});this.setState({pagination:a}),this.loadList()}),this.selMarteriaEvent=(e=>{this.setState({isActive:e})}),this.MouseLeave=(()=>{this.setState({isActive:null})}),this.selectEvent=(()=>{w.a.push({pathname:"/editor",state:{activityId:this.state.id,type:"materiallist"}})}),this.viewEvent=(e=>{this.setState({id:e.id}),this.props.getMateriaInfoEvent(e)}),this.state={isActive:null,type:null,id:null,pagination:{size:"small",total:0,currentPage:1,limit:6,pageSize:6,title:null},materiaData:[],flag:!1}}componentDidMount(){this.loadList()}componentWillReceiveProps(e){2===e.num&&"save"===e.state&&this.setState({id:null})}render(){var e=this.state,a=e.materiaData,t=e.pagination,i=e.id,l=e.isActive,s={gutter:16,xs:1,sm:2,md:3,lg:3,xl:3,xxl:3};return f.a.createElement("div",{className:C.a.mypromotion},f.a.createElement("div",{className:C.a.selectmateriaitems,id:"selectmateriaitems"},f.a.createElement("div",{className:C.a["searchM"]},f.a.createElement("div",{className:"w180 inlineb"},f.a.createElement(Y,{placeholder:"\u641c\u7d22\u6587\u7ae0\u6807\u9898",onChange:this.searchEvent})),f.a.createElement("span",{className:"purple-color f14 ml10"},null!==t.title&&""!==t.title?"\u641c\u7d22\u5230".concat(a.length,"\u7bc7\u6587\u6848"):"\u5171\u6709".concat(this.props.count,"\u7bc7\u6587\u7ae0")),a.length>0?f.a.createElement("div",{className:C.a["btn"]},f.a.createElement(c["a"],{type:"primary",onClick:this.selectEvent.bind(this)},"+\u521b\u5efa\u6587\u6848")):null),this.props.count>0?a.length>0?f.a.createElement("div",null,f.a.createElement(G["a"],{grid:s,dataSource:a,className:"list-tab",renderItem:(e,a)=>f.a.createElement(G["a"].Item,null,f.a.createElement("div",{className:"wx-item",key:a,onMouseEnter:this.selMarteriaEvent.bind(this,a),onMouseLeave:this.MouseLeave.bind(this)},f.a.createElement("div",{className:"item ".concat(C.a["off"])},f.a.createElement("div",{className:"time"},"\u521b\u5efa\u65f6\u95f4\uff1a",window.common.getDate(e.createDate,!0)),f.a.createElement("img",{onClick:this.selMarteriaEvent.bind(this,e),src:e.thumbMediaUrl,className:"new-pic"}),f.a.createElement("a",{className:"title",target:"_blank",href:"".concat(window.common.articleUrl,"/fshstatic/view.html?id=").concat(e.id)},f.a.createElement("p",{className:"elis"},e.title))),i===e.id?f.a.createElement("div",{className:"mask"},f.a.createElement(n["a"],{type:"check-circle",className:"icon active",onClick:this.viewEvent.bind(this,e)})):f.a.createElement("div",{onClick:this.viewEvent.bind(this,e),className:"mask ".concat(l===a?"":"hide")},f.a.createElement(n["a"],{type:"check-circle",className:"icon ".concat(i===e.id?"active":""),onClick:this.viewEvent.bind(this,e)}))))}),f.a.createElement("div",{className:"content"},f.a.createElement("div",{className:"g-tr"},f.a.createElement(U["a"],{showSizeChanger:!0,simple:!0,current:t.currentPage,total:t.total,size:t.size,defaultPageSize:t.limit,onChange:this.changePage.bind(this)})))):f.a.createElement("div",{className:C.a.noContent},f.a.createElement("p",null,f.a.createElement(n["a"],{type:"frown",theme:"filled",style:{color:"#64d",fontSize:"16px",marginRight:"5px"}}),"\u542f\u7980\u5c0f\u4e3b\u6ca1\u6709\u641c\u7d22\u5230\u60a8\u8981\u627e\u7684\u6587\u6848\u54e6\uff01")):f.a.createElement("div",{className:C.a.noContent},f.a.createElement("p",null,f.a.createElement(n["a"],{type:"exclamation-circle",theme:"filled",style:{color:"#64d",fontSize:"16px",marginRight:"5px"}}),"\u60a8\u7684\u5e7f\u544a\u6587\u5e93\u7a7a\u7a7a\u5982\u4e5f\uff0c\u5feb\u53bb\u521b\u4f5c\u63a8\u5e7f\u6587\u6848\u5427\uff01"),f.a.createElement("p",{className:"f12"},"\u70b9\u51fb\u4e0b\u65b9\u6309\u94ae\u7acb\u5373\u521b\u4f5c\u63a8\u5e7f\u6587\u6848"),f.a.createElement("div",{className:C.a["btn"]},f.a.createElement(c["a"],{type:"primary",onClick:this.selectEvent.bind(this)},"+\u521b\u5efa\u6587\u6848")))))}}var R=J,z=1;class _ extends N["Component"]{constructor(e){var a;super(e),a=this,this.initForm=(e=>{Object(M["D"])({id:e}).then(e=>{if(e.success){var a=Object.assign(this.state.form,{impImage:e.data.thumbMediaUrl,postContent:e.data.id,postUrl:e.data.contentSourceUrl,extrendJson:e.data.title});this.setState({mInfo:e.data,form:a})}})}),this.showMateriaList=p()(o.a.mark(function e(){var t,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(M["j"])();case 2:t=e.sent,i=a.state.form,t.success&&(null===i.impImage&&"clear"===a.state.stype&&(i=Object.assign(i,{impImage:null})),a.setState({isMateriaShow:!0,stype:"save",count:t.data.totalNum,form:i}));case 5:case"end":return e.stop()}},e)})),this.getMateriaInfoEvent=(e=>{z=1,this.setState({mInfo:e})}),this.saveMateriaEvent=(()=>{var e=this.state,a=e.form,t=e.mInfo;a=Object.assign(a,{postContent:t.id,impImage:t.thumbMediaUrl,postUrl:t.contentSourceUrl,extrendJson:t.title}),this.setState({form:a,isMateriaShow:!1}),this.props.saveMateriaEvent(t)}),this.viewEvent=(()=>{this.setState({isHide:!1})}),this.leaveEvent=(()=>{this.setState({isHide:!0})}),this.closeEvent=(()=>{this.setState({isMateriaShow:!1})}),this.state={isHide:!0,form:{postContent:null}}}componentDidMount(){var e=this;return p()(o.a.mark(function a(){return o.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.setState({stype:e.props.clear});case 2:case"end":return a.stop()}},a)}))()}componentWillReceiveProps(e){if(this.setState({stype:e.clear,postContent:e.postContent}),"clear"===this.state.stype){z=2;var a=Object.assign(this.state.form,{postContent:void 0,impImage:null,postUrl:void 0,extrendJson:void 0});this.setState({form:a})}this.props.postContent!==e.postContent&&this.initForm(e.postContent)}render(){var e=this.state,a=e.isHide,t=e.form,i=e.mInfo,l=e.isMateriaShow,s=e.count,c=e.stype,m=f.a.createElement("div",{className:C.a["uploadBtn"]},f.a.createElement(n["a"],{type:this.state.loading?"loading":"plus"})),o=f.a.createElement("div",null,f.a.createElement("h2",null,"\u5fae\u4fe1\u626b\u7801\u76f4\u63a5\u624b\u673a\u9884\u89c8"),t.postContent?f.a.createElement(P.a,{value:"".concat(window.common.articleUrl,"/fshstatic/view.html?id=").concat(t.postContent),size:135,fgColor:"#000000"}):null);return f.a.createElement("div",null,f.a.createElement(r["a"],{title:"\u9009\u62e9\u6587\u6848\u63a8\u5e7f",visible:l,width:800,onCancel:this.closeEvent.bind(this),onOk:this.saveMateriaEvent.bind(this)},f.a.createElement(R,{count:s,getMateriaInfoEvent:this.getMateriaInfoEvent,num:z,state:c,impImage:t.impImage})),f.a.createElement("div",{className:"".concat(C.a.items," mb24")},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},f.a.createElement("i",null,"*"),"\u9009\u62e9\u6587\u6848\uff1a"),f.a.createElement("div",{className:C.a["mImage"],onClick:!1===a?null:this.showMateriaList.bind(this)},t.impImage?f.a.createElement("div",{className:C.a["title"],onMouseEnter:this.viewEvent.bind(this),onMouseLeave:this.leaveEvent.bind(this,"true")},f.a.createElement("img",{src:t.impImage}),f.a.createElement("h1",null,t.extrendJson),f.a.createElement("div",{className:!1===a?"":"hide"},f.a.createElement("div",{className:C.a["layer"]}),f.a.createElement("div",{className:C.a["icon"]},f.a.createElement("p",null,f.a.createElement(F["a"],{title:"\u6d4f\u89c8\u6587\u6848"},f.a.createElement("a",{target:"_blank",href:"".concat(window.common.articleUrl,"/fshstatic/view.html?id=").concat(t.postContent)},f.a.createElement(n["a"],{type:"eye",className:C.a["ico-eye"]}))),f.a.createElement(j["a"],{placement:"bottom",content:o,trigger:"hover"},f.a.createElement("span",{className:"ml10 cur"},f.a.createElement(n["a"],{type:"mobile",className:C.a["ico-eye"]}))))))):m),t.impImage?f.a.createElement("div",{className:C.a["changeM"],onClick:this.showMateriaList.bind(this)},"\u66f4\u6362\u6587\u6848"):null),t.impImage&&i.digest?f.a.createElement("div",{className:"".concat(C.a.items," mb24")},f.a.createElement("label",{className:C.a.labName},"\u6587\u7ae0\u6458\u8981\uff1a"),f.a.createElement("div",null,i.digest)):null,t.postUrl?f.a.createElement("div",{className:"".concat(C.a.items," mb24")},f.a.createElement("label",{className:C.a.labName},"\u539f\u6587\u94fe\u63a5\uff1a"),f.a.createElement("div",null,t.postUrl)):null)}}var q=_,B=y["a"].Step,W=b["a"].Option,Q=g["a"].TextArea,Z=E["a"].RangePicker,$=new O["a"];class H extends N["Component"]{constructor(e){super(e),this.getCaQuery=(()=>{return Object(M["o"])().then(e=>{e.success&&void 0!==e.data&&this.setState({availableBalance:e.data.benefitCa.available_balance})})}),this.initForm=(e=>{var a=this.state,t=a.form,i=a.appTypeData,n=a.checkAll;Object(M["E"])({id:e}).then(e=>{if(e.success){switch(t=Object.assign(t,e.data),n=-2===t.verifyTypeInfo,t.appType){case 3:i=[1,2],i[2]=-2===t.verifyTypeInfo?-2:-1;break;case 2:i=[null,2],i[2]=-2===t.verifyTypeInfo||-1===t.verifyTypeInfo?-2:t.verifyTypeInfo;break;case 1:i=[1,null],i[2]=-2===t.verifyTypeInfo||-1===t.verifyTypeInfo?-2:t.verifyTypeInfo;break}var a=null!==t.targetGenderScale?1:0,l=t.targetAreaArray.length>0?1:0,s=t.targetMediaCategoryArray.length>0?1:0;$.loadData("provinceType",t.targetAreaArray).then(e=>{this.setState({provinceName:e})}),$.childLoadData("parent_mediatype",t.targetMediaCategoryArray).then(e=>{this.setState({categoryName:e})}),this.setState({form:t,appTypeData:i,checkAll:n,sexType:a,areaType:l,categoryType:s})}})}),this.changeFormEvent=((e,a,t)=>{var i,n,l,s=this.state,r=s.form,c=s.appTypeData,m={};switch(e){case"date":m={dateStart:t[0],dateEnd:t[1]};break;case"targetGenderScale":m={[e]:a.target.value};break;case"unitPrice":n=a.target.value,m={unitPrice:n},l=parseInt(r.postAmtTotal/n),i=isNaN(l)?0:l,this.setState({validReading:i});break;case"postAmtTotal":n=a.target.value;var o={fansNumLimit:null},h={};n>=5e3?(o={fansNumLimit:2e3},this.props.form.setFieldsValue({fansNumLimit:2e3})):(o={fansNumLimit:null},h={checkAll:!0,appTypeData:[1,2,-2]}),m=v()({postAmtTotal:n},o),l=parseInt(n/r.unitPrice),i=isNaN(l)?0:l,this.setState(v()({validReading:i},h));break;case"missionLimit":m={missionLimit:a.target.value};break;case"fansNumLimit":m={[e]:a.target.value};break;case"postTimeLimit":m={[e]:a.target.value};break;case"verifyType":c[2]=a.target.checked?-2:null;var p=!1;1===c[0]&&2===c[1]&&-2===c[2]?(p=!0,m={verifyTypeInfo:-2}):!this.state.checkAll&&a.target.checked?(p=!1,m={verifyTypeInfo:-1}):this.state.checkAll||a.target.checked||(p=!1,m={verifyTypeInfo:0}),this.setState({appTypeData:c,checkAll:p});break;case"appType":var d,u=a.target.value;c[u-1]=a.target.checked?u:null,m=-2!==c[2]&&!0!==this.state.checkAll?{verifyTypeInfo:0}:{verifyTypeInfo:-1},1===c[0]&&2===c[1]&&-2===c[2]?d=!0:1===c[0]&&2===c[1]?m=Object.assign(m,{[e]:3,verifyTypeInfo:-1}):1===c[0]?m=Object.assign(m,{[e]:1}):2===c[1]?m=Object.assign(m,{[e]:2}):1!==c[0]&&2!==c[1]&&(m={[e]:3}),this.setState({appTypeData:c,checkAll:d});break;case"allcheck":var E=a.target.checked;E?(c=[1,2,-2],m={appType:3,verifyTypeInfo:-2}):(c=[1,2,null],m={appType:3,verifyTypeInfo:-1}),this.setState({checkAll:E,appTypeData:c});break;case"remarks":m={[e]:a.target.value};break;default:m={[e]:a};break}r=Object.assign(r,m),this.setState({form:r})}),this.setMadeEvent=((e,a)=>{var t=a.target.value,i={},n=this.state.form;switch(e){case"sexType":var l;0===Number(t)?(l=!1,n=Object.assign(n,{targetGender:0,targetGenderScale:null})):(l=!0,n=Object.assign(n,{targetGender:1})),i={isVisible:l};break;case"areaType":var s;0===Number(t)?(s=!1,this.setState({provinceName:[]}),n=Object.assign(n,{targetAreaArray:[]})):s=!0,i={areaVisible:s};break;case"categoryType":var r;0===Number(t)?(r=!1,this.setState({categoryName:[]}),n=Object.assign(n,{targetMediaCategoryArray:[]})):r=!0,i={tagVisible:r};break}this.setState(v()({[e]:Number(t)},i,{form:n}))}),this.getIndexTag=((e,a,t)=>{var i=this.state.form,n="parent_mediatype"===t?{targetMediaCategory:e,targetMediaCategoryArray:e}:{targetArea:e,targetAreaArray:e};i=Object.assign(i,n),this.setState({form:i,dictData:a})}),this.getDictionary=(e=>{var a=this.state,t=a.form,i=a.dictData,n=[],l={};if("parent_mediatype"===e){var s=window.common.mergeArray(t.targetMediaCategory);if(s.map(e=>{i.map(a=>{a.dictChildList.map(a=>{e===a.value&&n.push(a.label)})})}),l={categoryName:n,tagVisible:!1,categoryType:0===n.length?0:1},0===n.length)return d["a"].error("\u81f3\u5c11\u9009\u62e9\u4e00\u9879\u9700\u8981\u63a8\u5e7f\u7684\u516c\u4f17\u53f7\u7c7b\u522b"),!1}else if(t.targetAreaArray.map(e=>{i.map(a=>{e===a.value&&n.push(a.label)})}),l={provinceName:n,areaVisible:!1,areaType:0===n.length?0:1},0===n.length)return d["a"].error("\u81f3\u5c11\u9009\u62e9\u4e00\u9879\u9700\u8981\u63a8\u5e7f\u7684\u533a\u57df"),!1;this.setState(v()({},l))}),this.closeEvent=(e=>{var a=this.state,t=a.form,i=a.provinceName,n=a.categoryName;if("provinceType"===e){var l=0===i.length&&"provinceType"===e?0:1,s=Object.assign(t,{targetAreaArray:[]});this.setState({areaType:l,form:s})}else if("parent_mediatype"===e){var r=0===n.length&&"parent_mediatype"===e?0:1,c=Object.assign(t,{targetMediaCategoryArray:[]});this.setState({categoryType:r,form:c})}this.setState({rechargeVisible:!1,tagVisible:!1,areaVisible:!1,isMateriaShow:!1,isSubmit:!1})}),this.isSubmitEvent=(e=>{e.preventDefault(),this.props.form.validateFields((e,a)=>{if(!e){delete a.date;var t,i=this.state,n=i.form,l=i.checkAll,s=i.appTypeData,r=this.props.location.state;t=void 0!==r?0===n.targetMediaCategory.length?[]:JSON.parse(n.targetMediaCategory):n.targetMediaCategory;var c=window.common.mergeArray(t);c=c.length>0?window.common.removeEmptyArrayEle(c):c,n=Object.assign(n,a,{targetMediaCategory:c});var m=23-Number(n.hourStart)+Number(n.hourEnd);if(void 0===n.impImage)return d["a"].error("\u8bf7\u9009\u62e9\u63a8\u5e7f\u6587\u6848"),!1;if(m<6&&d["a"].error("\u65f6\u95f4\u6bb5\u95f4\u9694\u5fc5\u987b\u5927\u4e8e6\u5c0f\u65f6"),n.postAmtTotal>=5e3&&!l&1!==s[0]&&2!==s[1]&&-2!==s[2])return d["a"].error("\u81f3\u5c11\u9009\u62e9\u4e00\u9879\u516c\u4f17\u53f7\u7c7b\u578b"),!1;this.setState({form:n}),this.setState({stype:"save",isSubmit:!0})}})}),this.createEvent=(()=>{var e=this.state,a=e.form,t=e.stype;if("clear"===t)a=Object.assign({campaignName:null,targetGender:null,dateStart:null,dateEnd:null,adType:"article",missionLimitDay:5,targetGender:0,targetGenderScale:null,targetMediaCategory:[],targetArea:[],targetAreaArray:[],targetMediaCategoryArray:[],billingType:1,unitPrice:null,postAmtTotal:null,postStatus:0,missionLimit:1,postTimeLimit:0,hourStart:0,hourEnd:0,retentionTime:48,appArticlePosition:9,appType:3,fansNumLimit:null,userAppNumLimit:null,appMissionNumLimit:null,remarks:null,impImage:void 0}),this.props.form.setFieldsValue({campaignName:null,date:null,unitPrice:null,postAmtTotal:null}),this.setState({form:a,isSubmit:!1,provinceName:[],categoryName:[],sexType:0,areaType:0,categoryType:0,validReading:0,mInfo:{},stype:"save"});else{var i=this.props.location.state;if(void 0!==i){var n=Object.assign(this.state.form,{id:i.id});n.dateStart=window.common.getDate(n.dateStart),n.dateEnd=window.common.getDate(n.dateEnd),n.targetArea="[]"!==n.targetArea?JSON.parse(n.targetArea):[],Object(M["u"])(n).then(e=>{e.success&&(d["a"].success(e.message),w.a.push({pathname:"/myactivity"}))})}else Object(M["f"])(a).then(e=>{e.success&&(d["a"].success(e.message),w.a.push({pathname:"/myactivity"}))})}}),this.clearEvent=(()=>{this.setState({stype:"clear",isSubmit:!0})}),this.goBackEvent=(()=>{var e=this.state.form.postContent;w.a.push({pathname:"/materialinfo",state:{id:e}})}),this.disabledEndDate=(e=>{return e&&e<S()().subtract(1,"days")}),this.handleEndOpenChange=(e=>{var a=this;e&&(a.currentTime=S()()),this.setState({currentTime:S()()})}),this.saveMoneyEvent=(()=>{var e=this.state.topup;e=Object.assign(e,{amount:""}),this.setState({rechargeVisible:!0,topup:e,rechargeStep:0})}),this.bindValue=((e,a)=>{var t=this.state.topup;t=Object.assign(t,{[e]:a.target.value}),this.setState({topup:t})}),this.rechargeEvent=(()=>{var e=this.state.topup,a=v()({},e),t=/^[0-9]+([.]{1}[0-9]{1,2})?$/;if(!t.test(a.amount))return d["a"].error("\u8bf7\u8f93\u5165\u6574\u6570\u6216\u5c0f\u6570(\u4fdd\u7559\u540e\u4e24\u4f4d)"),!1;Object(M["cb"])(a).then(e=>{e.success&&this.setState(v()({},e.data,{rechargeStep:1}))})}),this.reload=(()=>{var e=this,a=setTimeout(function(){e.getCaQuery(),e.setState({rechargeVisible:!1}),clearTimeout(a)},3e3)}),this.saveMateriaEvent=(e=>{var a=this.state.form;a=Object.assign(a,{postContent:e.id,impImage:e.thumbMediaUrl,postUrl:e.contentSourceUrl,extrendJson:e.title}),this.setState({form:a})}),this.state={isDisabled:!1,isMateriaShow:!1,currentTime:null,areaVisible:!1,tagVisible:!1,rechargeVisible:!1,dictData:[],topup:{amount:null},form:{campaignName:null,targetGender:null,dateStart:null,dateEnd:null,adType:"article",missionLimitDay:5,targetGender:0,targetGenderScale:null,targetMediaCategory:[],targetArea:[],targetAreaArray:[],targetMediaCategoryArray:[],billingType:1,unitPrice:null,postAmtTotal:null,postStatus:0,missionLimit:1,postTimeLimit:0,hourStart:0,hourEnd:0,retentionTime:24,appArticlePosition:9,appType:3,verifyTypeInfo:-2,fansNumLimit:null,userAppNumLimit:null,appMissionNumLimit:null,remarks:null},sexType:0,areaType:0,categoryType:0,validReading:0,availableBalance:0,provinceName:[],categoryName:[],checkAll:!0,appTypeData:[1,2,-2],rechargeStep:0,arr:[[],[],[]],isHide:!0,isSubmit:!1}}componentDidMount(){var e=this;return p()(o.a.mark(function a(){var t;return o.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return t=e.props.location.state,a.next=3,e.getCaQuery();case 3:if(void 0===t){a.next=6;break}return a.next=6,e.initForm(t.id);case 6:case"end":return a.stop()}},a)}))()}componentWillUnmount(){this.setState=((e,a)=>{})}render(){var e=this.state,a=e.isDisabled,t=e.form,m=e.availableBalance,o=e.tagVisible,h=e.areaVisible,p=e.topup,d=e.sexType,u=e.areaType,v=e.categoryType,E=e.rechargeVisible,N=e.provinceName,T=e.categoryName,k=e.validReading,A=e.appTypeData,w=e.rechargeStep,M=e.payUrl,x=e.orderNo,O=e.isSubmit,j=e.stype,F=e.checkAll,V=this.props.form.getFieldDecorator,P=(e,a,t)=>{Number(a)>Number(m)&&t("\u53ef\u7528\u4f59\u989d\u4e0d\u8db3\uff0c\u8bf7\u5145\u503c");var i=/^([1-9][0-9]*){1,3}|(^[0-9][.][0-9]{1}$)|(^[0-9][.][0-9]{2}$)$/;i.test(a)||t("\u8bf7\u8f93\u5165\u9884\u7b97\u91d1\u989d"),t()},U=(e,a,t)=>{var i=/^([1-9][0-9]*){1,3}|(^[0-9][.][0-9]{1}$)|(^[0-9][.][0-9]{2}$)$/;i.test(a)||t("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u91d1\u989d"),Number(a)<.1&&t("\u6700\u4f4e\u5355\u4ef7\u4e3a0.10\u5143"),t()},G=(e,a,i)=>{Number(a)<2e3&&t.postAmtTotal>=5e3&&m>=5e3&&i("\u9884\u7b97\u8d855000\uff0c\u7c89\u4e1d\u6570\u6700\u5c112000"),i()},Y=e=>{for(var a=[],t=0;t<=e;t++)a.push(f.a.createElement(W,{key:t,value:t},t,"\u70b9"));return a},J=e=>{var a=[];return e.map((e,t)=>{a.push(f.a.createElement("label",{key:t},e))}),a},R="<div><p>\u5f00\u59cb\u65e5\u671f\u4e0d\u53ef\u65e9\u4e8e\u5f53\u524d\u65e5\u671f\u3002</p><p>\u7ed3\u675f\u65e5\u671f\u4e0d\u53ef\u65e9\u4e8e\u5f00\u59cb\u65e5\u671f\u3002</p></div>",z="<div>\n      <p>\u65f6\u6bb5\u9700\u8981\u6709\u95f4\u9694\uff0c\u5982\u679c\u5f00\u59cb\u65f6\u95f4\u5927\u4e8e\u7ed3\u675f\u65f6\u95f4\u4ee3\u8868\u5f53\u65e5\uff0c</p>\n      <p>\u5982\u679c\u5f00\u59cb\u65f6\u95f4\u5c0f\u4e8e\u7ed3\u675f\u65f6\u95f4\u4ee3\u8868\u6b21\u65e5\u3002</p>\n      <p>\u4f8b\u5982\uff1a10-11\u70b9\u4ee3\u8868 10\uff1a00-11\uff1a59\u3002</p>\n      <p>22-4\u70b9\u4ee3\u886822\uff1a00-\u6b21\u65e504\uff1a59\u3002</p>\n      <p>\u5f00\u59cb\u65f6\u95f4\u4e0d\u53ef\u7b49\u4e8e\u7ed3\u675f\u65f6\u95f4\u3002</p>\n    </div>";return f.a.createElement("div",{className:C.a.mypromotion,id:"selectmateriaitems"},f.a.createElement("header",{className:"header-style"},"\u53d1\u5e03\u5e7f\u544a"),f.a.createElement(r["a"],{visible:E,width:400,onCancel:this.closeEvent,footer:0===w?f.a.createElement("div",null,f.a.createElement(c["a"],{type:"primary",onClick:this.rechargeEvent.bind(this)},"\u786e\u5b9a")):null},f.a.createElement(L["a"],{changeFormEvent:this.bindValue.bind(this),reload:this.reload.bind(this),payUrl:M,amount:p.amount,orderNo:x,rechargeStep:w,isVisible:E})),f.a.createElement(r["a"],{visible:h,closable:!1,width:700,onCancel:this.closeEvent.bind(this,"provinceType"),onOk:this.getDictionary.bind(this,"provinceType")},f.a.createElement(D["a"],{type:"provinceType",getIndexTag:this.getIndexTag,tagData:t.targetAreaArray})),f.a.createElement(r["a"],{visible:o,closable:!1,width:700,onCancel:this.closeEvent.bind(this,"parent_mediatype"),onOk:this.getDictionary.bind(this,"parent_mediatype")},f.a.createElement(D["a"],{type:"parent_mediatype",parent:"children",getIndexTag:this.getIndexTag,tagData:t.targetMediaCategoryArray})),f.a.createElement("div",{className:C.a["steps"]},f.a.createElement(y["a"],{current:0},f.a.createElement(B,{title:"\u9009\u62e9\u6587\u6848\u53ca\u63a8\u5e7f\u8bbe\u7f6e"}),f.a.createElement(B,{title:"\u5f85\u5ba1\u6838"}),f.a.createElement(B,{title:"\u5f00\u59cb\u63a8\u5e7f"}))),f.a.createElement("div",{className:C.a.createBlocks},f.a.createElement(s["a"],{onSubmit:this.isSubmitEvent,className:C.a.form,name:"form",id:"form"},f.a.createElement("div",null,f.a.createElement(q,{saveMateriaEvent:this.saveMateriaEvent,clear:j,postContent:t.postContent}),f.a.createElement("div",{className:C.a.items},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},f.a.createElement("i",null,"*"),"\u6d3b\u52a8\u540d\u79f0\uff1a"),f.a.createElement("div",null,f.a.createElement(s["a"].Item,null,V("campaignName",{initialValue:t.campaignName,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d\u79f0"}]})(f.a.createElement(g["a"],{maxLength:50,className:C.a.ipttxt,placeholder:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u540d\u79f0",onChange:this.changeFormEvent.bind(this,"campaignName")}))))),f.a.createElement("div",{className:"mb24 ".concat(C.a.items)},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u5b9a\u5411\u8bbe\u5b9a\uff1a"),f.a.createElement("ul",{className:C.a.target},f.a.createElement("li",null,f.a.createElement("div",{className:C.a.cell},f.a.createElement("em",{className:C.a.lab},"\u7537\u5973"),f.a.createElement("div",{className:C.a.item},f.a.createElement(l["a"],{className:C.a.radio,value:0,checked:0===d,onChange:this.setMadeEvent.bind(this,"sexType")},"\u4e0d\u9650"),f.a.createElement(l["a"],{className:C.a.radio,value:1,checked:1===d,onChange:this.setMadeEvent.bind(this,"sexType")},"\u8bbe\u7f6e\u6bd4\u4f8b")),1===d?f.a.createElement("div",{className:"".concat(C.a.col)},f.a.createElement("div",{className:"w80",style:{marginBottom:"24px"}},f.a.createElement(b["a"],{value:Number(t.targetGender),onChange:this.changeFormEvent.bind(this,"targetGender")},f.a.createElement(W,{value:1},"\u7537\u7c89"),f.a.createElement(W,{value:2},"\u5973\u7c89"))),f.a.createElement("em",{className:"mr10",style:{marginTop:"-25px"}},">"),f.a.createElement("div",{className:"w80"},f.a.createElement(s["a"].Item,null,V("targetGenderScale",{initialValue:100*t.targetGenderScale||null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7c89\u4e1d\u6bd4\u4f8b"}]})(f.a.createElement(g["a"],{className:"w80",onChange:this.changeFormEvent.bind(this,"targetGenderScale")}))," %"))):null)),f.a.createElement("li",null,f.a.createElement("div",{className:C.a.cell},f.a.createElement("em",null,"\u5730\u57df"),f.a.createElement("div",{className:C.a.item},f.a.createElement(l["a"],{className:C.a.radio,value:0,checked:0===u,onClick:this.setMadeEvent.bind(this,"areaType")},"\u4e0d\u9650"),f.a.createElement(l["a"],{className:C.a.radio,value:1,checked:1===u,onClick:this.setMadeEvent.bind(this,"areaType")},"\u9009\u62e9\u5730\u57df")),1===u&&N.length>0?f.a.createElement("div",{className:C.a.selDicTarget},J(N)):null)),f.a.createElement("li",{className:C.a.last},f.a.createElement("div",{className:C.a.cell},f.a.createElement("em",null,"\u7c7b\u522b"),f.a.createElement("div",{className:C.a.item},f.a.createElement(l["a"],{className:C.a.radio,value:0,checked:0===v,onClick:this.setMadeEvent.bind(this,"categoryType")},"\u4e0d\u9650"),f.a.createElement(l["a"],{className:C.a.radio,value:1,checked:1===v,onClick:this.setMadeEvent.bind(this,"categoryType")},"\u516c\u4f17\u53f7\u7c7b\u522b")),1===v&&T.length>0?f.a.createElement("div",{className:C.a.selDicTarget},J(T)):null)))),f.a.createElement("div",{className:"mb24 ".concat(C.a.items)},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u516c\u4f17\u53f7\u8bbe\u5b9a\uff1a"),f.a.createElement("ul",{className:"".concat(C.a.setWx," clearfix")},f.a.createElement("li",null,f.a.createElement(l["a"],{value:1,checked:1===t.missionLimit,onChange:this.changeFormEvent.bind(this,"missionLimit")},"\u6bcf\u4e2a\u516c\u4f17\u53f7\u63a5\u8fc7\u6211\u7684\u76f8\u4f3c\u6587\u6848\u540e"),f.a.createElement("div",{className:C.a.col},f.a.createElement("div",{className:"w120"},f.a.createElement(b["a"],{value:t.missionLimitDay,disabled:1!==t.missionLimit,onChange:this.changeFormEvent.bind(this,"missionLimitDay")},f.a.createElement(W,{value:5},"5"),f.a.createElement(W,{value:7},"7"),f.a.createElement(W,{value:10},"10"))),"\u5929\u5185\u4e0d\u80fd\u518d\u63a5\u6211\u7684\u5e7f\u544a")),f.a.createElement("li",null,f.a.createElement(l["a"],{value:2,checked:2===t.missionLimit,onChange:this.changeFormEvent.bind(this,"missionLimit")},"\u6bcf\u4e2a\u516c\u4f17\u53f7\u53ea\u53ef\u63a5\u672c\u6587\u6848\u4e00\u6b21")))),f.a.createElement("div",{className:"mb24 ".concat(C.a.items)},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u6295\u653e\u65f6\u95f4\uff1a"),f.a.createElement("ul",{className:"".concat(C.a.setDate," clearfix")},f.a.createElement("li",null,f.a.createElement("em",{className:"mt10"},f.a.createElement("i",null,"*"),"\u63a8\u5e7f\u65e5\u671f\uff1a",f.a.createElement(n["a"],{type:"question-circle","data-tip":R,"data-html":!0,className:C.a["icon"]})),f.a.createElement(I.a,{html:!0}),f.a.createElement("div",{className:"top"},f.a.createElement(s["a"].Item,null,V("date",{initialValue:null!==t.dateStart&&null!==t.dateEnd?[S()(window.common.getDate(t.dateStart),"YYYY-MM-DD"),S()(window.common.getDate(t.dateEnd),"YYYY-MM-DD")]:"",rules:[{type:"array",required:!0,message:"\u8bf7\u9009\u62e9\u63a8\u5e7f\u65e5\u671f"}]})(f.a.createElement(Z,{format:"YYYY-MM-DD",disabledDate:this.disabledEndDate,className:C.a.date,style:{width:"260px"},ranges:{Today:[S()(),S()()]},onChange:this.changeFormEvent.bind(this,"date")}))))),f.a.createElement("li",{className:C.a.last},f.a.createElement("em",null,"\u53d1\u6587\u65f6\u6bb5\uff1a",f.a.createElement(n["a"],{type:"question-circle","data-tip":z,"data-html":!0,className:C.a["icon"]})),f.a.createElement("div",{className:"inlineb"},f.a.createElement(l["a"],{value:0,className:C.a.radio,checked:0===t.postTimeLimit,onChange:this.changeFormEvent.bind(this,"postTimeLimit")},"\u4e0d\u9650"),f.a.createElement(l["a"],{value:1,className:C.a.radio,checked:1===t.postTimeLimit,onChange:this.changeFormEvent.bind(this,"postTimeLimit")},"\u9009\u62e9\u65f6\u6bb5"),f.a.createElement("div",{className:C.a.time},f.a.createElement(b["a"],{value:t.hourStart,onChange:this.changeFormEvent.bind(this,"hourStart"),disabled:0===t.postTimeLimit},Y(23))),f.a.createElement("em",{className:"inlineb m5"},"-"),f.a.createElement("div",{className:C.a.time},f.a.createElement(b["a"],{value:t.hourEnd,onChange:this.changeFormEvent.bind(this,"hourEnd"),disabled:0===t.postTimeLimit},Y(23))))))),f.a.createElement("div",{className:"mb24 ".concat(C.a.items)},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u9884\u7b97\uff1a"),f.a.createElement("div",{className:C.a.setPrice},f.a.createElement("ul",{className:"clearfix"},f.a.createElement("li",null,f.a.createElement("em",null,f.a.createElement("i",null,"*"),"\u5355\u4ef7\uff1a"),f.a.createElement("div",null,f.a.createElement(s["a"].Item,null,V("unitPrice",{initialValue:t.unitPrice,rules:[{validator:U}]})(f.a.createElement(g["a"],{className:C.a["ipttxt"],onChange:this.changeFormEvent.bind(this,"unitPrice")})))),"\u5143 / \u9605\u8bfb"),f.a.createElement("li",null,f.a.createElement("em",null,f.a.createElement("i",null,"*"),"\u603b\u9884\u7b97\uff1a"),f.a.createElement("div",null,f.a.createElement(s["a"].Item,null,V("postAmtTotal",{initialValue:t.postAmtTotal,rules:[{validator:P}]})(f.a.createElement(g["a"],{className:C.a["ipttxt"],onChange:this.changeFormEvent.bind(this,"postAmtTotal")})))),"\u5143"),f.a.createElement("li",{className:C.a.last},f.a.createElement("em",null,"\u53ef\u7528\u91d1\u989d\uff1a"),f.a.createElement("div",null,f.a.createElement("label",null,m,f.a.createElement("i",null,"\u5143")),f.a.createElement(c["a"],{type:"primary",className:C.a.btn,onClick:this.saveMoneyEvent.bind(this)},"\u5145\u503c")))),f.a.createElement("div",{className:C.a.readNum},"\u9884\u7b97\u9605\u8bfb\u91cf\uff1a",f.a.createElement("em",null,k)))),f.a.createElement("div",{className:"mb24 ".concat(C.a.items)},f.a.createElement("label",{className:C.a.labName},"\u6295\u653e\u4f4d\u7f6e\uff1a"),f.a.createElement("div",{className:C.a.adLocal},f.a.createElement("div",null,f.a.createElement(b["a"],{value:t.appArticlePosition,onChange:this.changeFormEvent.bind(this,"appArticlePosition")},f.a.createElement(W,{value:9},"\u4e0d\u9650"),f.a.createElement(W,{value:1},"\u5934\u6761"),f.a.createElement(W,{value:2},"\u4e8c\u6761"))),f.a.createElement("em",null,"\u5e7f\u544a\u6700\u5c11\u4fdd\u7559\u65f6\u95f4"),f.a.createElement("div",null,f.a.createElement(b["a"],{value:t.retentionTime,onChange:this.changeFormEvent.bind(this,"retentionTime")},f.a.createElement(W,{value:"24"},"24\u5c0f\u65f6"),f.a.createElement(W,{value:"48"},"48\u5c0f\u65f6"))))),f.a.createElement("div",{className:C.a.dividerLine},f.a.createElement("em",null,"\u9884\u7b97\u8f83\u5927\uff0c\u60a8\u8fd8\u53ef\u4ee5\u8bbe\u5b9a")),f.a.createElement("div",{className:"mb24 ".concat(C.a.items)},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top"}},"\u516c\u4f17\u53f7\u7c7b\u578b\uff1a"),f.a.createElement("ul",{className:C.a.pubType},f.a.createElement("li",null,f.a.createElement("div",null,f.a.createElement(i["a"],{checked:F,onChange:this.changeFormEvent.bind(this,"allcheck"),disabled:!(t.postAmtTotal>=5e3&&m>=5e3)},"\u4e0d\u9650")),f.a.createElement(i["a"],{value:2,checked:2===A[1],onChange:this.changeFormEvent.bind(this,"appType"),disabled:!(t.postAmtTotal>=5e3&&m>=5e3)},"\u4ec5\u6295\u8ba4\u8bc1\u670d\u52a1\u53f7"),f.a.createElement(i["a"],{value:1,checked:1===A[0],onChange:this.changeFormEvent.bind(this,"appType"),disabled:!(t.postAmtTotal>=5e3&&m>=5e3)},"\u4ec5\u6295\u8ba4\u8bc1\u8ba2\u9605\u53f7"),f.a.createElement(i["a"],{value:-1,checked:-2===A[2],onChange:this.changeFormEvent.bind(this,"verifyType"),disabled:!(t.postAmtTotal>=5e3&&m>=5e3)},"\u4ec5\u6295\u672a\u8ba4\u8bc1\u53f7")))),f.a.createElement("div",{className:"mb24 ".concat(C.a.items)},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u7c89\u4e1d\u6570\uff1a"),f.a.createElement("div",{className:C.a.fansNum},f.a.createElement("div",{className:C.a.ipt},f.a.createElement(s["a"].Item,null,V("fansNumLimit",{initialValue:t.fansNumLimit,rules:[{validator:G}]})(f.a.createElement("div",null,"\u5927\u4e8e",f.a.createElement(g["a"],{value:t.fansNumLimit,onChange:this.changeFormEvent.bind(this,"fansNumLimit"),disabled:!(t.postAmtTotal>=5e3&&m>=5e3)}))))),f.a.createElement("ul",null,f.a.createElement("li",null,"\u53ea\u5141\u8bb8\u540c\u4e00\u7528\u6237\u4e0b",f.a.createElement("div",{className:C.a.col},f.a.createElement(b["a"],{value:t.userAppNumLimit,onChange:this.changeFormEvent.bind(this,"userAppNumLimit"),disabled:!(t.postAmtTotal>=5e3&&m>=5e3)},f.a.createElement(W,{value:null},"\u4e0d\u9650"),f.a.createElement(W,{value:3},"3"),f.a.createElement(W,{value:5},"5"),f.a.createElement(W,{value:10},"10"))),"\u4e2a\u516c\u4f17\u53f7\u63a5\u5355"),f.a.createElement("li",null,"\u53ea\u5141\u8bb8\u63a5\u8fc7",f.a.createElement("div",{className:C.a.col},f.a.createElement(b["a"],{value:t.appMissionNumLimit,onChange:this.changeFormEvent.bind(this,"appMissionNumLimit"),disabled:!(t.postAmtTotal>=5e3&&m>=5e3)},f.a.createElement(W,{value:null},"\u4e0d\u9650"),f.a.createElement(W,{value:3},"3"),f.a.createElement(W,{value:5},"5"),f.a.createElement(W,{value:10},"10"))),"\u5355\u4ee5\u5185\u7684\u516c\u4f17\u53f7\u63a5\u5355")))),f.a.createElement("div",{className:"mb24 ".concat(C.a.items)},f.a.createElement("label",{className:C.a.labName,style:{verticalAlign:"top",marginTop:"10px"}},"\u5907\u6ce8\u8981\u6c42\uff1a"),f.a.createElement("div",{className:C.a.describe},f.a.createElement(Q,{rows:4,className:C.a.txtA,placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f",value:t.remarks,disabled:!(t.postAmtTotal>=5e3&&m>=5e3),onChange:this.changeFormEvent.bind(this,"remarks")})))),f.a.createElement(s["a"].Item,{className:C.a["btnItem"]},f.a.createElement(c["a"],{type:"primary",htmlType:"submit",onClick:e=>this.isSubmitEvent(e),className:"".concat(C.a.btn," ml30"),disabled:a},"\u63d0\u4ea4\u5ba1\u6838"),f.a.createElement(c["a"],{className:"ml30",onClick:this.clearEvent.bind(this)},"\u6e05\u7a7a\u8bbe\u7f6e"),f.a.createElement(r["a"],{visible:O,width:350,closable:!1,onOk:this.createEvent.bind(this),onCancel:this.closeEvent.bind(this)},"clear"===j?f.a.createElement("div",{className:C.a["submitBox"]},f.a.createElement("h1",null,f.a.createElement(n["a"],{type:"info-circle",theme:"filled",className:C.a["icon"]}),"\u786e\u8ba4\u6e05\u7a7a\u8bbe\u7f6e\u6761\u4ef6"),f.a.createElement("p",null,"\u8be5\u64cd\u4f5c\u5c06\u6e05\u7a7a\u5f53\u524d\u9875\u9762\u6240\u6709\u8bbe\u7f6e\u5bf9\u5168\u90e8\uff0c"),f.a.createElement("p",null,"\u63a8\u5e7f\u8bbe\u8ba1\u6761\u4ef6\u548c\u5185\u5bb9")):f.a.createElement("div",{className:C.a["submitBox"]},f.a.createElement("h1",null,f.a.createElement(n["a"],{type:"info-circle",theme:"filled",className:C.a["icon"]}),"\u786e\u8ba4\u8981\u63d0\u4ea4\u672c\u6761\u63a8\u5e7f"),f.a.createElement("p",null,"\u6211\u4eec\u5c06\u5feb\u9a6c\u52a0\u97ad\u5ba1\u6838\u60a8\u63a8\u5e7f\u5e7f\u544a\uff0c"),f.a.createElement("p",null,"\u4e14\u63d0\u4ea4\u5ba1\u6838\u8be5\u63a8\u5e7f\u5c06\u4e0d\u80fd\u4fee\u6539")))))))}}a["default"]=s["a"].create()(H)}}]);