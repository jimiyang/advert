(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"Tcu/":function(e,a,t){e.exports={wait:"wait___HtPkX",ongoing:"ongoing___IZBDg",finish:"finish___1qjFA"}},qPHB:function(e,a,t){"use strict";t.r(a);t("kAav");var i=t("tOJu"),n=(t("Es18"),t("cNqv")),s=(t("PrJT"),t("Vhqn")),r=(t("PWbI"),t("EEhf")),l=(t("f9jU"),t("ZZoX")),c=(t("Q1Sh"),t("xSYZ")),o=t("Ico4"),m=t.n(o),p=t("UWy3"),d=t.n(p),h=t("mK77"),u=t.n(h),E=(t("pDDZ"),t("83a4")),g=t("2w0b"),v=t.n(g),D=t("gLMk"),y=t.n(D),w=(t("Tcu/"),t("TsPW")),S=t("zefA"),N=E["a"].Option;class f extends g["Component"]{constructor(e){var a;super(e),a=this,this.loadList=(()=>{var e=this.state,a=e.campaignId,t=e.pagination,i=e.search;this.setState({loading:!0});var n=u()({campaignId:a,currentPage:t.currentPage,limit:t.pageSize},i);Object(w["ab"])(n).then(e=>{if(this.setState({loading:!1}),e.success){var a=e.data,i=Object.assign(t,{total:a.pageData.totalNum});this.setState({monitorOrderData:a.pageData.items,monitorFinish:a.monitorFinish,monitorWait:a.monitorWait,monitoring:a.monitoring,campaignId:a.campaignId,campaignName:a.campaignName,impImage:a.impImage,pagination:i,title:a.title,postContent:a.postContent})}})}),this.AppIdList=d()(m.a.mark(function e(){return m.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:Object(w["X"])({campaignId:a.state.campaignId}).then(e=>{e.success&&a.setState({appData:e.data})});case 1:case"end":return e.stop()}},e)})),this.changeFormEvent=((e,a)=>{var t=this.state.search,i=null!==e?"object"===typeof e?e.target.value:e:null;t=Object.assign(t,{[a]:i}),this.setState({search:t},()=>{this.loadList()})}),this.mouseEnterEvent=(e=>{this.setState({id:e})}),this.mouseLeaveEvent=(()=>{this.setState({id:null})}),this.viewMonitorEvent=(e=>{Object(w["W"])({missionId:e.missionId}).then(a=>{if(a.success){var t=a.data;this.setState({xData:t.xData,yReadUserVal:t.yReadUserVal,yReadUserData:t.yReadUserData,yDifVal:t.yDifVal,yDifValData:t.yDifValData,alias:t.alias,realPostArticleTime:t.realPostArticleTime,monitorDateStart:t.monitorDateStart,monitorDateEnd:t.monitorDateEnd,isChartsVisible:!0,missionItems:e,monitorStatus:t.monitorStatus})}})}),this.closeEvent=(()=>{this.setState({isChartsVisible:!1})}),this.state={monitorOrderData:[],loading:!1,pagination:{size:"small",showQuickJumper:!0,showSizeChanger:!0,total:0,currentPage:1,current:1,pageSize:10,pageSize:10,onChange:this.changePage,onShowSizeChange:this.onShowSizeChange},search:{monitorStatus:"",appId:null},appData:[],isChartsVisible:!1}}componentDidMount(){var e=this;return d()(m.a.mark(function a(){return m.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.setState({campaignId:e.props.location.state.campaignId,appArticlePosition:e.props.location.state.appArticlePosition},d()(m.a.mark(function a(){return m.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.loadList();case 2:return a.next=4,e.AppIdList();case 4:case"end":return a.stop()}},a)})));case 2:case"end":return a.stop()}},a)}))()}render(){var e=this.state,a=e.id,o=e.monitorOrderData,m=e.loading,p=e.pagination,d=e.monitorFinish,h=e.monitorWait,u=e.monitoring,g=e.campaignName,D=e.impImage,w=e.appArticlePosition,f=e.title,I=e.postContent,x=e.search,b=e.appData,C=e.isChartsVisible,P=e.missionItems,V=e.xData,k=e.yReadUserVal,A=e.yReadUserData,L=e.yDifVal,O=e.yDifValData,U=e.alias,R=e.realPostArticleTime,T=e.monitorDateStart,_=e.monitorDateEnd,j=e.monitorStatus,F={gutter:16,xs:1,sm:2,md:3,lg:4,xl:4,xxl:5};return v.a.createElement("div",{className:y.a["monitor"]},v.a.createElement(l["a"],{visible:C,title:"\u9605\u8bfb\u6570\u76d1\u63a7",width:800,onCancel:()=>this.closeEvent(),footer:v.a.createElement("div",{className:"g-tr"},v.a.createElement(c["a"],{type:"primary",onClick:()=>this.closeEvent()},"\u5173\u95ed"))},v.a.createElement(S["a"],{missionItems:P,activeIndex:0,xData:V,yReadUserVal:k,yReadUserData:A,yDifVal:L,yDifValData:O,alias:U,realPostArticleTime:R,monitorDateStart:T,monitorDateEnd:_,monitorStatus:j})),v.a.createElement("div",null,v.a.createElement("header",{className:"header-style"},"\u8ba2\u5355\u76d1\u63a7",v.a.createElement(s["a"],{placement:"rightTop",title:"\u4ec5\u80fd\u67e5\u8be2\u5df2\u63a5\u5355\u4e14\u542f\u52a8\u9605\u8bfb\u76d1\u63a7\u7684\u516c\u4f17\u53f7"},v.a.createElement(r["a"],{type:"question-circle",className:y.a["notice"]})),v.a.createElement("span",{className:y.a["header-title"]},"\u5f53\u524d\u6d3b\u52a8\u5171\u6709",v.a.createElement("i",null,p.total),"\u4e2a\u63a5\u5355\u8d26\u53f7\u5df2\u5f00\u542f\u76d1\u63a7\uff0c \u5305\u62ec",v.a.createElement("i",null,h),"\u4e2a\u5f85\u76d1\u63a7\uff0c",v.a.createElement("i",null,u),"\u4e2a\u76d1\u63a7\u4e2d\uff0c",v.a.createElement("i",null,d),"\u4e2a\u76d1\u63a7\u5b8c\u6210\u3002"))),v.a.createElement("div",{className:y.a["activity-name"]},v.a.createElement("b",null,9===w?"\u4e0d\u9650":window.common.advertLocal[w-1]),v.a.createElement("img",{src:D,style:{width:"66px",height:"66px",borderRadius:"2px"}}),v.a.createElement("div",{className:"".concat(y.a["title"]," ml10 mr10")},v.a.createElement(s["a"],{placement:"topLeft",title:g},v.a.createElement("h1",{style:{width:"300px"}},g)),v.a.createElement("div",{className:y.a["mtitle"]},v.a.createElement(s["a"],{placement:"topLeft",title:f},v.a.createElement("a",{href:"".concat(window.common.articleUrl,"/fshstatic/view.html?id=").concat(I),target:"_blank"},f))))),v.a.createElement("div",{className:"".concat(y.a["search"]," mt30")},v.a.createElement("div",{className:"inlineb"},"\u9009\u62e9\u76d1\u63a7\u8d26\u53f7",v.a.createElement(E["a"],{showSearch:!0,className:"w260 ".concat(y.a["ml10"]),optionFilterProp:"children",placeholder:"\u8bf7\u9009\u62e9\u6216\u641c\u7d22\u76d1\u63a7\u8d26\u53f7",filterOption:(e,a)=>a.props.children[1].indexOf(e)>=0,onChange:e=>this.changeFormEvent(e,"appId")},v.a.createElement(N,{value:null},v.a.createElement("i",null),"\u5168\u90e8\u8d26\u53f7"),b.map((e,a)=>v.a.createElement(N,{key:a,value:e.appId},v.a.createElement("img",{src:e.headImg,className:y.a["head-img"]}),e.appNickName)))),v.a.createElement("div",null,"\u6392\u5e8f\uff1a",v.a.createElement(n["a"].Group,{value:x.monitorStatus,onChange:e=>this.changeFormEvent(e,"monitorStatus")},v.a.createElement(n["a"],{value:""},"\u9ed8\u8ba4"),v.a.createElement(n["a"],{value:2},"\u5f85\u76d1\u63a7"),v.a.createElement(n["a"],{value:4},"\u76d1\u63a7\u5b8c\u6210"),v.a.createElement(n["a"],{value:3},"\u76d1\u63a7\u4e2d")))),v.a.createElement("div",null,v.a.createElement(i["a"],{grid:F,dataSource:o,loading:m,pagination:p,renderItem:(e,n)=>v.a.createElement(i["a"].Item,null,v.a.createElement("div",{key:n,className:y.a["activity"]},v.a.createElement("div",{className:y.a["activity-name"]},v.a.createElement("img",{src:e.headImg}),v.a.createElement("div",{className:"".concat(y.a["title"]," ml10 mr10")},v.a.createElement("h1",null,e.appNickName),v.a.createElement("p",null,e.alias))),v.a.createElement("div",null,v.a.createElement("p",{className:y.a["activity-status"]},"\u9605\u8bfb\u589e\u91cf\u8d8b\u52bf",window.common.monitorReadNum(y.a,e.monitorStatus)),v.a.createElement("div",{className:y.a["activity-pic"],onMouseEnter:()=>this.mouseEnterEvent(e.missionId),onMouseLeave:()=>this.mouseLeaveEvent()},v.a.createElement("img",{src:t("uicj")}),v.a.createElement("div",{className:a===e.missionId?null:"hide"},v.a.createElement("div",{className:y.a["layer"]}),v.a.createElement("div",{className:y.a["content"]},3===e.monitorStatus||4===e.monitorStatus?v.a.createElement(c["a"],{type:"primary",onClick:()=>{this.viewMonitorEvent(e)}},"\u67e5\u770b\u9605\u8bfb\u6570\u8be6\u60c5"):v.a.createElement(s["a"],{title:"\u76d1\u63a7\u672a\u5f00\u59cb\uff0c\u65e0\u6cd5\u67e5\u770b\u76d1\u63a7\u8d26\u53f7"},v.a.createElement(r["a"],{type:"eye-invisible",className:y.a["ico"]}))))),v.a.createElement("div",{className:y.a["activity-count"]},v.a.createElement("div",null,v.a.createElement(r["a"],{type:"eye",className:y.a["ico"]}),"\u9605\u8bfb\u6570\uff1a",window.common.reaplceFansNum(String(e.readUserTotal)))))))})))}}a["default"]=f}}]);